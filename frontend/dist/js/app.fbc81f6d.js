(function(){"use strict";var e={8662:function(e,t,a){var r=a(9242),o=a(3396);const s={id:"app"};function n(e,t,a,r,n,l){const c=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",s,[(0,o.Wm)(c)])}var l={name:"App"},c=a(89);const i=(0,c.Z)(l,[["render",n]]);var d=i,u=a(2483);const p=(0,o._)("div",{class:"auth-wrapper"},[(0,o._)("div",{class:"auth-inner"},[(0,o._)("h3",null,"Welcome to Our Grocery Store")])],-1);function m(e,t,a,r,s,n){const l=(0,o.up)("NavBar");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(l),p],64)}const g={class:"navbar navbar-expand-lg navbar-light"},y=(0,o.uE)('<a href="/" class="navbar-brand">Home</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto"><li class="nav-item"><a href="/user/login" class="nav-link">User</a></li><li class="nav-item"><a href="/store-manager/login" class="nav-link">Store Manager</a></li><li class="nav-item"><a href="/admin/login" class="nav-link">Admin</a></li></ul></div>',3),_=[y];function h(e,t,a,r,s,n){return(0,o.wg)(),(0,o.iD)("nav",g,_)}var v={name:"NavBar"};const f=(0,c.Z)(v,[["render",h]]);var w=f,b={name:"HomePage",components:{NavBar:w}};const C=(0,c.Z)(b,[["render",m]]);var k=C;const q={class:"auth-wrapper"},P={class:"auth-inner"},U=(0,o._)("h3",null,"Login",-1),x={class:"form-group"},D=(0,o._)("label",null,"Username",-1),R={class:"form-group"},A=(0,o._)("label",null,"Password",-1),z=(0,o._)("a",{href:"/user/Register",class:"link"},"Click Here to Register",-1),N=(0,o._)("button",{class:"btn btn-primary btn-block"},"Login",-1);function S(e,t,a,s,n,l){const c=(0,o.up)("NavBar");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(c),(0,o._)("div",q,[(0,o._)("div",P,[(0,o._)("form",{onSubmit:t[2]||(t[2]=(0,r.iM)(((...e)=>s.handleSubmit&&s.handleSubmit(...e)),["prevent"]))},[U,(0,o._)("div",x,[D,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>s.username=e),placeholder:"Username",required:""},null,512),[[r.nr,s.username]])]),(0,o._)("div",R,[A,(0,o.wy)((0,o._)("input",{type:"password",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e),placeholder:"Password",required:""},null,512),[[r.nr,s.password]])]),z,N],32)])])],64)}a(7658);var H=a(1076),Z=a(4870),T={name:"UserLogin",components:{NavBar:w},setup(){const e=(0,Z.iH)(""),t=(0,Z.iH)(""),a=async()=>{try{const a=await H.Z.post("/user/login",{username:e.value,password:t.value}),r=a.data.access_token;localStorage.setItem("access_token",r);const o={Authorization:`Bearer ${r}`};await H.Z.get("/protected",{headers:o}),Mi.push("/user/dashboard")}catch(a){console.error(a),alert("Login failed")}};return{username:e,password:t,handleSubmit:a}}};const O=(0,c.Z)(T,[["render",S]]);var E=O;const B={class:"auth-wrapper"},M={class:"auth-inner"},I=(0,o._)("h3",null,"Register",-1),$={class:"form-group"},V=(0,o._)("label",null,"First Name",-1),Y={class:"form-group"},F=(0,o._)("label",null,"Last Name",-1),L={class:"form-group"},j=(0,o._)("label",null,"Username",-1),Q={class:"form-group"},W=(0,o._)("label",null,"Password",-1),K={class:"form-group"},G=(0,o._)("label",null,"Confirm Password",-1),X={class:"form-group"},J=(0,o._)("label",null,"Email",-1),ee=(0,o._)("a",{href:"/user/login",class:"link"},"Click Here to Login",-1),te=(0,o._)("button",{class:"btn btn-primary btn-block"},"Register",-1);function ae(e,t,a,s,n,l){const c=(0,o.up)("NavBar");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(c),(0,o._)("div",B,[(0,o._)("div",M,[(0,o._)("form",{onSubmit:t[6]||(t[6]=(0,r.iM)(((...e)=>s.handleSubmit&&s.handleSubmit(...e)),["prevent"]))},[I,(0,o._)("div",$,[V,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>s.first_name=e),placeholder:"First Name",required:""},null,512),[[r.nr,s.first_name]])]),(0,o._)("div",Y,[F,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>s.last_name=e),placeholder:"Last Name",required:""},null,512),[[r.nr,s.last_name]])]),(0,o._)("div",L,[j,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>s.username=e),placeholder:"Username",required:""},null,512),[[r.nr,s.username]])]),(0,o._)("div",Q,[W,(0,o.wy)((0,o._)("input",{type:"password",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>s.password=e),placeholder:"Password",required:""},null,512),[[r.nr,s.password]])]),(0,o._)("div",K,[G,(0,o.wy)((0,o._)("input",{type:"password",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>s.password_confirm=e),placeholder:"Confirm Password",required:""},null,512),[[r.nr,s.password_confirm]])]),(0,o._)("div",X,[J,(0,o.wy)((0,o._)("input",{type:"email",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=e=>s.email=e),placeholder:"Email",required:""},null,512),[[r.nr,s.email]])]),ee,te],32)])])],64)}var re={name:"UserRegister",components:{NavBar:w},setup(){const e=(0,Z.iH)(""),t=(0,Z.iH)(""),a=(0,Z.iH)(""),r=(0,Z.iH)(""),o=(0,Z.iH)(""),s=(0,Z.iH)(""),n=async()=>{if(r.value!==o.value)return void alert("Passwords do not match");const n=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&+=]).{8,}$/;if(!n.test(r.value))return void alert("Password must contain at least 8 characters, including one uppercase letter, one lowercase letter, one digit, and one special character (@#$%^&+=)");const l=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(l.test(s.value))try{const o=await H.Z.post("/get_token",{first_name:e.value,last_name:t.value,username:a.value,password:r.value,role:"user",email:s.value}),n=o.data.access_token;localStorage.setItem("access_token",n),Mi.push("/user/login")}catch(c){console.error(c),alert("Registration failed")}else alert("Invalid email format")};return{first_name:e,last_name:t,username:a,password:r,password_confirm:o,email:s,handleSubmit:n}}};const oe=(0,c.Z)(re,[["render",ae]]);var se=oe,ne=a(7139);const le={class:"category"},ce={class:"row"},ie={class:"card"},de={class:"card-body"},ue=["src"],pe={class:"name-price"},me={class:"card-title"},ge={class:"card-text"},ye={class:"card-text"},_e={class:"card-text"},he=["onClick"],ve={key:1,class:"btn btn-outline-warning",style:{"margin-right":"7px"}},fe={key:0,class:"text"};function we(e,t,a,r,s,n){const l=(0,o.up)("UserNav");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(l),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.productsByCategory,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"product-container",key:e.category_name},[(0,o._)("div",le,[(0,o._)("h3",null,(0,ne.zw)(e.category_name),1)]),(0,o._)("div",ce,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.products,(e=>((0,o.wg)(),(0,o.iD)("ul",{class:"col",key:e.id},[(0,o._)("li",ie,[(0,o._)("div",de,[(0,o._)("img",{src:e.image_path,alt:"Product Image"},null,8,ue),(0,o._)("div",pe,[(0,o._)("h5",me,(0,ne.zw)(e.product_name),1),(0,o._)("p",ge,[(0,o._)("strong",null,"â‚¹"+(0,ne.zw)(e.price)+" / "+(0,ne.zw)(e.product_unit),1)])]),(0,o._)("p",ye,"Expiry Date: "+(0,ne.zw)(e.expiry_date),1),(0,o._)("p",_e,"Quantity: "+(0,ne.zw)(e.quantity),1),(0,o._)("div",null,[e.quantity>0?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"btn btn-outline-success mr-10",onClick:t=>r.addToCart(e.id,e.product_name,e.price,e.product_unit,e.image_path)},"ADD",8,he)):(0,o.kq)("",!0),0==e.quantity?((0,o.wg)(),(0,o.iD)("button",ve,"OUT OF STOCK")):(0,o.kq)("",!0)])])])])))),128)),0===e.products.length?((0,o.wg)(),(0,o.iD)("p",fe,"No product added")):(0,o.kq)("",!0)])])))),128))],64)}const be={class:"navbar navbar-expand-lg navbar-light fixed-nav"},Ce=(0,o._)("a",{class:"navbar-brand",href:"/user/dashboard"},"Dashboard",-1),ke=(0,o.uE)('<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto"><li class="nav-item"><a href="/user/cart" class="nav-link">Cart</a></li><li class="nav-item"><a href="/user/orders" class="nav-link">Orders</a></li><li class="nav-item"><a href="/user/profile" class="nav-link">Profile</a></li></ul></div>',2);function qe(e,t,a,r,s,n){const l=(0,o.up)("SearchBar");return(0,o.wg)(),(0,o.iD)("nav",be,[Ce,(0,o.Wm)(l),ke])}function Pe(e,t,a,s,n,l){return(0,o.wg)(),(0,o.iD)("form",{class:"form-inline",onSubmit:t[1]||(t[1]=(0,r.iM)(((...e)=>l.search&&l.search(...e)),["prevent"]))},[(0,o.wy)((0,o._)("input",{class:"form-control",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.searchQuery=e),placeholder:"Search products"},null,512),[[r.nr,n.searchQuery]])],32)}var Ue={name:"SearchBar",data(){return{searchQuery:""}},methods:{search(){this.$router.push({name:"search-product",query:{query:this.searchQuery}})}}};const xe=(0,c.Z)(Ue,[["render",Pe]]);var De=xe,Re={name:"UserNav",components:{SearchBar:De}};const Ae=(0,c.Z)(Re,[["render",qe]]);var ze=Ae,Ne=a(65),Se={name:"UserDashboard",components:{UserNav:ze},setup(){const e=(0,Ne.oR)(),t=(0,o.Fl)((()=>e.state.productsByCategory)),a=async()=>{await e.dispatch("fetchProductsByCategory")};(0,o.bv)((()=>{a()}));const r=async(t,a,r,o,s,n)=>{await e.dispatch("addToUserCart",{product_id:t,product_name:a,price:r,product_unit:o,image_path:s,quantity:n})};return{productsByCategory:t,addToCart:r}}};const He=(0,c.Z)(Se,[["render",we]]);var Ze=He;const Te={class:"auth-wrapper"},Oe={class:"auth-inner"},Ee=(0,o._)("h3",null,"Login",-1),Be={class:"form-group"},Me=(0,o._)("label",null,"Username",-1),Ie={class:"form-group"},$e=(0,o._)("label",null,"Password",-1),Ve=(0,o._)("a",{href:"/store-manager/Register",class:"link"},"Click Here to Register",-1),Ye=(0,o._)("button",{class:"btn btn-primary btn-block"},"Login",-1),Fe={key:0};function Le(e,t,a,s,n,l){const c=(0,o.up)("NavBar");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(c),(0,o._)("div",Te,[(0,o._)("div",Oe,[(0,o._)("form",{onSubmit:t[2]||(t[2]=(0,r.iM)(((...e)=>s.handleSubmit&&s.handleSubmit(...e)),["prevent"]))},[Ee,(0,o._)("div",Be,[Me,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>s.username=e),placeholder:"Username",required:""},null,512),[[r.nr,s.username]])]),(0,o._)("div",Ie,[$e,(0,o.wy)((0,o._)("input",{type:"password",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e),placeholder:"Password",required:""},null,512),[[r.nr,s.password]])]),Ve,Ye],32),s.message.length>0?((0,o.wg)(),(0,o.iD)("p",Fe,(0,ne.zw)(s.message),1)):(0,o.kq)("",!0)])])],64)}var je={name:"ManagerLogin",components:{NavBar:w},setup(){const e=(0,Z.iH)(""),t=(0,Z.iH)(""),a=(0,Z.iH)(""),r=(0,Z.iH)(""),o=async()=>{try{const o=await H.Z.post("/store_manager/login",{username:e.value,password:t.value});r.value=o.data.message[7],"Approved"==r.value?(a.value="Your request has been approved",alert(a.value),Mi.push("/store-manager/dashboard")):"Rejected"==r.value?(a.value="Your request has been rejected",alert(a.value)):(a.value="Your request is Pending",alert(a.value));const s=o.data.access_token;localStorage.setItem("access_token",s);const n={Authorization:`Bearer ${s}`};await H.Z.get("/protected",{headers:n})}catch(o){console.error(o),alert("Login failed")}};return{username:e,password:t,status:r,message:a,handleSubmit:o}}};const Qe=(0,c.Z)(je,[["render",Le]]);var We=Qe;const Ke={class:"auth-wrapper"},Ge={class:"auth-inner"},Xe=(0,o._)("h3",null,"Register",-1),Je={class:"form-group"},et=(0,o._)("label",null,"First Name",-1),tt={class:"form-group"},at=(0,o._)("label",null,"Last Name",-1),rt={class:"form-group"},ot=(0,o._)("label",null,"Username",-1),st={class:"form-group"},nt=(0,o._)("label",null,"Password",-1),lt={class:"form-group"},ct=(0,o._)("label",null,"Confirm Password",-1),it={class:"form-group"},dt=(0,o._)("label",null,"Email",-1),ut=(0,o._)("a",{href:"/store-manager/login",class:"link"},"Click Here to Login",-1),pt=(0,o._)("button",{class:"btn btn-primary btn-block"},"Register",-1);function mt(e,t,a,s,n,l){const c=(0,o.up)("NavBar");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(c),(0,o._)("div",Ke,[(0,o._)("div",Ge,[(0,o._)("form",{onSubmit:t[6]||(t[6]=(0,r.iM)(((...e)=>s.handleSubmit&&s.handleSubmit(...e)),["prevent"]))},[Xe,(0,o._)("div",Je,[et,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>s.first_name=e),placeholder:"First Name",required:""},null,512),[[r.nr,s.first_name]])]),(0,o._)("div",tt,[at,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>s.last_name=e),placeholder:"Last Name",required:""},null,512),[[r.nr,s.last_name]])]),(0,o._)("div",rt,[ot,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>s.username=e),placeholder:"Username",required:""},null,512),[[r.nr,s.username]])]),(0,o._)("div",st,[nt,(0,o.wy)((0,o._)("input",{type:"password",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>s.password=e),placeholder:"Password",required:""},null,512),[[r.nr,s.password]])]),(0,o._)("div",lt,[ct,(0,o.wy)((0,o._)("input",{type:"password",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>s.password_confirm=e),placeholder:"Confirm Password",required:""},null,512),[[r.nr,s.password_confirm]])]),(0,o._)("div",it,[dt,(0,o.wy)((0,o._)("input",{type:"email",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=e=>s.email=e),placeholder:"Email",required:""},null,512),[[r.nr,s.email]])]),ut,pt],32)])])],64)}var gt={name:"ManagerRegister",components:{NavBar:w},setup(){const e=(0,Z.iH)(""),t=(0,Z.iH)(""),a=(0,Z.iH)(""),r=(0,Z.iH)(""),o=(0,Z.iH)(""),s=(0,Z.iH)(""),n=async()=>{if(r.value!==o.value)return void alert("Passwords do not match");const n=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&+=]).{8,}$/;if(!n.test(r.value))return void alert("Password must contain at least 8 characters, including one uppercase letter, one lowercase letter, one digit, and one special character (@#$%^&+=)");const l=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(l.test(s.value))try{const o=await H.Z.post("/get_token",{first_name:e.value,last_name:t.value,username:a.value,password:r.value,role:"manager",email:s.value}),n=o.data.access_token;localStorage.setItem("access_token",n),Mi.push("/store-manager/login")}catch(c){console.error(c),alert("Registration failed")}else alert("Invalid email format")};return{first_name:e,last_name:t,username:a,password:r,password_confirm:o,email:s,handleSubmit:n}}};const yt=(0,c.Z)(gt,[["render",mt]]);var _t=yt;const ht={class:"auth-wrapper"},vt={class:"auth-inner"},ft=(0,o._)("h3",null,"Register",-1),wt={class:"form-group"},bt=(0,o._)("label",null,"First Name",-1),Ct={class:"form-group"},kt=(0,o._)("label",null,"Last Name",-1),qt={class:"form-group"},Pt=(0,o._)("label",null,"Username",-1),Ut={class:"form-group"},xt=(0,o._)("label",null,"Password",-1),Dt={class:"form-group"},Rt=(0,o._)("label",null,"Confirm Password",-1),At={class:"form-group"},zt=(0,o._)("label",null,"Email",-1),Nt=(0,o._)("a",{href:"/admin/login",class:"link"},"Click Here to Login",-1),St=(0,o._)("button",{class:"btn btn-primary btn-block"},"Register",-1);function Ht(e,t,a,s,n,l){const c=(0,o.up)("NavBar");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(c),(0,o._)("div",ht,[(0,o._)("div",vt,[(0,o._)("form",{onSubmit:t[6]||(t[6]=(0,r.iM)(((...e)=>s.handleSubmit&&s.handleSubmit(...e)),["prevent"]))},[ft,(0,o._)("div",wt,[bt,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>s.first_name=e),placeholder:"First Name",required:""},null,512),[[r.nr,s.first_name]])]),(0,o._)("div",Ct,[kt,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>s.last_name=e),placeholder:"Last Name",required:""},null,512),[[r.nr,s.last_name]])]),(0,o._)("div",qt,[Pt,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>s.username=e),placeholder:"Username",required:""},null,512),[[r.nr,s.username]])]),(0,o._)("div",Ut,[xt,(0,o.wy)((0,o._)("input",{type:"password",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>s.password=e),placeholder:"Password",required:""},null,512),[[r.nr,s.password]])]),(0,o._)("div",Dt,[Rt,(0,o.wy)((0,o._)("input",{type:"password",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>s.password_confirm=e),placeholder:"Confirm Password",required:""},null,512),[[r.nr,s.password_confirm]])]),(0,o._)("div",At,[zt,(0,o.wy)((0,o._)("input",{type:"email",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=e=>s.email=e),placeholder:"Email",required:""},null,512),[[r.nr,s.email]])]),Nt,St],32)])])],64)}var Zt={name:"AdminRegister",components:{NavBar:w},setup(){const e=(0,Z.iH)(""),t=(0,Z.iH)(""),a=(0,Z.iH)(""),r=(0,Z.iH)(""),o=(0,Z.iH)(""),s=(0,Z.iH)(""),n=async()=>{if(r.value!==o.value)return void alert("Passwords do not match");const n=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&+=]).{8,}$/;if(!n.test(r.value))return void alert("Password must contain at least 8 characters, including one uppercase letter, one lowercase letter, one digit, and one special character (@#$%^&+=)");const l=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(l.test(s.value))try{const o=await H.Z.post("/get_token",{first_name:e.value,last_name:t.value,username:a.value,password:r.value,role:"admin",email:s.value});if("There is already one admin present, you cannot signup as admin"==o.data.message)alert("There is already one admin present, you cannot signup as admin");else{const e=o.data.access_token;localStorage.setItem("access_token",e),Mi.push("/admin/login")}}catch(c){console.error(c),alert("Registration failed")}else alert("Invalid email format")};return{first_name:e,last_name:t,username:a,password:r,password_confirm:o,email:s,handleSubmit:n}}};const Tt=(0,c.Z)(Zt,[["render",Ht]]);var Ot=Tt;const Et={class:"auth-wrapper"},Bt={class:"auth-inner"},Mt=(0,o._)("h3",null,"Login",-1),It={class:"form-group"},$t=(0,o._)("label",null,"Username",-1),Vt={class:"form-group"},Yt=(0,o._)("label",null,"Password",-1),Ft=(0,o._)("a",{href:"/admin/Register",class:"link"},"Click Here to Register",-1),Lt=(0,o._)("button",{class:"btn btn-primary btn-block"},"Login",-1);function jt(e,t,a,s,n,l){const c=(0,o.up)("NavBar");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(c),(0,o._)("div",Et,[(0,o._)("div",Bt,[(0,o._)("form",{onSubmit:t[2]||(t[2]=(0,r.iM)(((...e)=>s.handleSubmit&&s.handleSubmit(...e)),["prevent"]))},[Mt,(0,o._)("div",It,[$t,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>s.username=e),placeholder:"Username",required:""},null,512),[[r.nr,s.username]])]),(0,o._)("div",Vt,[Yt,(0,o.wy)((0,o._)("input",{type:"password",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e),placeholder:"Password",required:""},null,512),[[r.nr,s.password]])]),Ft,Lt],32)])])],64)}var Qt={name:"AdminLogin",components:{NavBar:w},setup(){const e=(0,Z.iH)(""),t=(0,Z.iH)(""),a=async()=>{try{const a=await H.Z.post("/admin/login",{username:e.value,password:t.value}),r=a.data.access_token;localStorage.setItem("access_token",r);const o={Authorization:`Bearer ${r}`};await H.Z.get("/protected",{headers:o}),Mi.push("/admin/dashboard")}catch(a){console.error(a),alert("Login failed")}};return{username:e,password:t,handleSubmit:a}}};const Wt=(0,c.Z)(Qt,[["render",jt]]);var Kt=Wt;const Gt={class:"category"},Xt=["onClick"],Jt=["onClick"],ea={class:"row"},ta={class:"card"},aa={class:"card-body"},ra=["src"],oa={class:"name-price"},sa={class:"card-title"},na={class:"card-text"},la={class:"card-text"},ca={class:"card-text"},ia=["onClick"],da={key:1,class:"btn btn-outline-warning",style:{"margin-right":"7px"}},ua=["onClick"],pa=["onClick"],ma={key:0,class:"text"},ga={key:0,class:"text1"};function ya(e,t,a,r,s,n){const l=(0,o.up)("AdminNav");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(l),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.productsByCategory,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"product-container",key:e.category_id},[(0,o._)("div",Gt,[(0,o._)("h3",null,(0,ne.zw)(e.category_name),1),(0,o._)("i",{class:"fa fa-edit",onClick:t=>r.editCategory(e.category_id),style:{"font-size":"20px",color:"blue","margin-top":"8px"}},null,8,Xt),(0,o._)("i",{class:"fa fa-remove",onClick:t=>r.deleteCategory(e.category_id),style:{"font-size":"24px",color:"red","margin-top":"4px"}},null,8,Jt)]),(0,o._)("div",ea,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.products,(e=>((0,o.wg)(),(0,o.iD)("ul",{class:"col",key:e.id},[(0,o._)("li",ta,[(0,o._)("div",aa,[(0,o._)("img",{src:e.image_path,alt:"Product Image"},null,8,ra),(0,o._)("div",oa,[(0,o._)("h5",sa,(0,ne.zw)(e.product_name),1),(0,o._)("p",na,[(0,o._)("strong",null,"â‚¹"+(0,ne.zw)(e.price)+" / "+(0,ne.zw)(e.product_unit),1)])]),(0,o._)("p",la,"Expiry Date: "+(0,ne.zw)(e.expiry_date),1),(0,o._)("p",ca,"Quantity: "+(0,ne.zw)(e.quantity),1),(0,o._)("div",null,[e.quantity>0?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"btn btn-outline-success mr-10",onClick:t=>r.addToCart(e.id,e.product_name,e.price,e.product_unit,e.image_path,1)},"ADD",8,ia)):(0,o.kq)("",!0),0==e.quantity?((0,o.wg)(),(0,o.iD)("button",da,"SOLD")):(0,o.kq)("",!0),(0,o._)("button",{class:"btn btn-outline-primary mr-10",onClick:t=>r.editProduct(e.id)},"EDIT",8,ua),(0,o._)("button",{class:"btn btn-outline-danger",onClick:t=>r.deleteProduct(e.id)},"DELETE",8,pa)])])])])))),128)),0===e.products.length?((0,o.wg)(),(0,o.iD)("p",ma,"No product added")):(0,o.kq)("",!0)])])))),128)),0===r.productsByCategory.length?((0,o.wg)(),(0,o.iD)("p",ga,"No category or product found")):(0,o.kq)("",!0)],64)}const _a={class:"navbar navbar-expand-lg navbar-light fixed-nav"},ha=(0,o._)("a",{class:"navbar-brand",href:"/admin/dashboard"},"Dashboard",-1),va=(0,o.uE)('<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto"><li class="nav-item"><a href="/admin/add-product" class="nav-link">Add Product</a></li><li class="nav-item"><a href="/admin/add-category" class="nav-link">Add Category</a></li><li class="nav-item"><a href="/admin/cart" class="nav-link">Cart</a></li><li class="nav-item"><a href="/admin/orders" class="nav-link">Orders</a></li><li class="nav-item"><a href="/requests" class="nav-link">Requests</a></li><li class="nav-item"><a href="/admin/profile" class="nav-link">Profile</a></li></ul></div>',2);function fa(e,t,a,r,s,n){const l=(0,o.up)("SearchBar");return(0,o.wg)(),(0,o.iD)("nav",_a,[ha,(0,o.Wm)(l),va])}var wa={name:"AdminNav",components:{SearchBar:De}};const ba=(0,c.Z)(wa,[["render",fa]]);var Ca=ba,ka={name:"AdminDashboard",components:{AdminNav:Ca},setup(){const e=(0,Ne.oR)(),t=(0,o.Fl)((()=>e.state.productsByCategory)),a=async()=>{await e.dispatch("fetchProductsByCategory")};(0,o.bv)((()=>{a()}));const r=e=>{Mi.push({name:"edit-category",params:{category_id:e}})},s=async t=>{await e.dispatch("deleteCategory",{category_id:t})},n=e=>{Mi.push({name:"edit-product",params:{product_id:e}})},l=async t=>{await e.dispatch("deleteProduct",{product_id:t})},c=async(t,a,r,o,s,n)=>{await e.dispatch("addToAdminCart",{product_id:t,product_name:a,price:r,product_unit:o,image_path:s,quantity:n})};return{productsByCategory:t,editCategory:r,deleteCategory:s,editProduct:n,deleteProduct:l,addToCart:c}}};const qa=(0,c.Z)(ka,[["render",ya]]);var Pa=qa;const Ua={class:"auth-wrapper"},xa={class:"auth-inner"},Da=(0,o._)("h3",null,"Add Product",-1),Ra={class:"form-group"},Aa=(0,o._)("label",{for:"name"},"Product Name",-1),za={class:"form-group"},Na=(0,o._)("label",{for:"price"},"Price",-1),Sa={class:"form-group"},Ha=(0,o._)("label",{for:"expiryDate"},"Expiry Date",-1),Za={class:"form-group"},Ta=(0,o._)("label",{for:"unit"},"Unit",-1),Oa={class:"form-group"},Ea=(0,o._)("label",{for:"quantity"},"Quantity",-1),Ba={class:"form-group"},Ma=(0,o._)("label",{for:"imageUrl"},"Image URL",-1),Ia={class:"form-group"},$a=(0,o._)("label",{for:"category"},"Category",-1),Va=["value"],Ya=(0,o._)("button",{class:"btn btn-primary btn-block",type:"submit"},"Add Product",-1);function Fa(e,t,a,s,n,l){return(0,o.wg)(),(0,o.iD)("div",Ua,[(0,o._)("div",xa,[(0,o._)("form",{onSubmit:t[7]||(t[7]=(0,r.iM)(((...e)=>s.addProduct&&s.addProduct(...e)),["prevent"]))},[Da,(0,o._)("div",Ra,[Aa,(0,o.wy)((0,o._)("input",{type:"text",id:"name",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>s.productName=e),placeholder:"Enter product name...",required:""},null,512),[[r.nr,s.productName]])]),(0,o._)("div",za,[Na,(0,o.wy)((0,o._)("input",{type:"number",id:"price",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>s.price=e),placeholder:"Enter product price...",required:""},null,512),[[r.nr,s.price]])]),(0,o._)("div",Sa,[Ha,(0,o.wy)((0,o._)("input",{type:"date",id:"expiryDate",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>s.expiryDate=e),placeholder:"Enter product expiry date...",required:""},null,512),[[r.nr,s.expiryDate]])]),(0,o._)("div",Za,[Ta,(0,o.wy)((0,o._)("input",{type:"text",id:"unit",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>s.productUnit=e),placeholder:"Enter product unit...",required:""},null,512),[[r.nr,s.productUnit]])]),(0,o._)("div",Oa,[Ea,(0,o.wy)((0,o._)("input",{type:"number",id:"quantity",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>s.quantity=e),placeholder:"Enter product quantity...",required:""},null,512),[[r.nr,s.quantity]])]),(0,o._)("div",Ba,[Ma,(0,o.wy)((0,o._)("input",{type:"url",id:"imageUrl",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=e=>s.imageUrl=e),placeholder:"Enter product image url...",required:""},null,512),[[r.nr,s.imageUrl]])]),(0,o._)("div",Ia,[$a,(0,o.wy)((0,o._)("select",{id:"category",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=e=>s.selectedCategory=e),required:""},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.categories,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e[0],value:e[0]},(0,ne.zw)(e[1]),9,Va)))),128))],512),[[r.bM,s.selectedCategory]])]),Ya],32)])])}var La={name:"AdminAddProduct",setup(){const e=(0,Z.iH)(""),t=(0,Z.iH)(0),a=(0,Z.iH)(""),r=(0,Z.iH)(""),s=(0,Z.iH)(0),n=(0,Z.iH)(""),l=(0,Z.iH)(null),c=(0,Ne.oR)(),i=(0,o.Fl)((()=>c.state.categories)),d=async()=>{await c.dispatch("fetchCategories")};(0,o.bv)((()=>{d()}));const u=async()=>{try{const o=await H.Z.post("/add_product",{product_name:e.value,price:t.value,product_unit:r.value,expiry_date:a.value,image_path:n.value,quantity:s.value,category_id:l.value,role:"admin"},{headers:{Authorization:`Bearer ${localStorage.access_token}`}});alert(o.data.message),e.value="",t.value=0,r.value="",a.value="",n.value="",s.value=0,l.value=null,Mi.push("/admin/dashboard")}catch(o){alert("Product already exists")}};return{productName:e,price:t,productUnit:r,expiryDate:a,quantity:s,imageUrl:n,selectedCategory:l,categories:i,addProduct:u}}};const ja=(0,c.Z)(La,[["render",Fa]]);var Qa=ja;const Wa={class:"auth-wrapper"},Ka={class:"auth-inner"},Ga=(0,o._)("h3",null,"Add Product",-1),Xa={class:"form-group"},Ja=(0,o._)("label",{for:"name"},"Product Name",-1),er={class:"form-group"},tr=(0,o._)("label",{for:"price"},"Price",-1),ar={class:"form-group"},rr=(0,o._)("label",{for:"expiryDate"},"Expiry Date",-1),or={class:"form-group"},sr=(0,o._)("label",{for:"unit"},"Unit",-1),nr={class:"form-group"},lr=(0,o._)("label",{for:"quantity"},"Quantity",-1),cr={class:"form-group"},ir=(0,o._)("label",{for:"imageUrl"},"Image URL",-1),dr={class:"form-group"},ur=(0,o._)("label",{for:"category"},"Category",-1),pr=["value"],mr=(0,o._)("button",{class:"btn btn-primary btn-block",type:"submit"},"Add Product",-1);function gr(e,t,a,s,n,l){return(0,o.wg)(),(0,o.iD)("div",Wa,[(0,o._)("div",Ka,[(0,o._)("form",{onSubmit:t[7]||(t[7]=(0,r.iM)(((...e)=>s.addProduct&&s.addProduct(...e)),["prevent"]))},[Ga,(0,o._)("div",Xa,[Ja,(0,o.wy)((0,o._)("input",{type:"text",id:"name",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>s.productName=e),placeholder:"Enter product name...",required:""},null,512),[[r.nr,s.productName]])]),(0,o._)("div",er,[tr,(0,o.wy)((0,o._)("input",{type:"number",id:"price",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>s.price=e),placeholder:"Enter product price...",required:""},null,512),[[r.nr,s.price]])]),(0,o._)("div",ar,[rr,(0,o.wy)((0,o._)("input",{type:"date",id:"expiryDate",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>s.expiryDate=e),placeholder:"Enter product expiry date...",required:""},null,512),[[r.nr,s.expiryDate]])]),(0,o._)("div",or,[sr,(0,o.wy)((0,o._)("input",{type:"text",id:"unit",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>s.productUnit=e),placeholder:"Enter product unit...",required:""},null,512),[[r.nr,s.productUnit]])]),(0,o._)("div",nr,[lr,(0,o.wy)((0,o._)("input",{type:"number",id:"quantity",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>s.quantity=e),placeholder:"Enter product quantity...",required:""},null,512),[[r.nr,s.quantity]])]),(0,o._)("div",cr,[ir,(0,o.wy)((0,o._)("input",{type:"url",id:"imageUrl",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=e=>s.imageUrl=e),placeholder:"Enter product image url...",required:""},null,512),[[r.nr,s.imageUrl]])]),(0,o._)("div",dr,[ur,(0,o.wy)((0,o._)("select",{id:"category",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=e=>s.selectedCategory=e),required:""},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.categories,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e[0],value:e[0]},(0,ne.zw)(e[1]),9,pr)))),128))],512),[[r.bM,s.selectedCategory]])]),mr],32)])])}var yr={name:"ManagerAddProduct",setup(){const e=(0,Z.iH)(""),t=(0,Z.iH)(0),a=(0,Z.iH)(""),r=(0,Z.iH)(""),s=(0,Z.iH)(0),n=(0,Z.iH)(""),l=(0,Z.iH)(null),c=(0,Ne.oR)(),i=(0,o.Fl)((()=>c.state.categories)),d=async()=>{await c.dispatch("fetchCategories")};(0,o.bv)((()=>{d()}));const u=async()=>{try{const o=await H.Z.post("/add_product",{product_name:e.value,price:t.value,product_unit:r.value,expiry_date:a.value,image_path:n.value,quantity:s.value,category_id:l.value,role:"manager"},{headers:{Authorization:`Bearer ${localStorage.access_token}`}});alert(o.data.message),e.value="",t.value=0,r.value="",a.value="",n.value="",s.value=0,l.value=null,Mi.push("/store-manager/dashboard")}catch(o){alert("Product already exists")}};return{productName:e,price:t,productUnit:r,expiryDate:a,quantity:s,imageUrl:n,selectedCategory:l,categories:i,addProduct:u}}};const _r=(0,c.Z)(yr,[["render",gr]]);var hr=_r;const vr={class:"auth-wrapper"},fr={class:"auth-inner"},wr=(0,o._)("h3",null,"Add Category",-1),br={class:"form-group"},Cr=(0,o._)("label",{for:"categoryName"},"Category Name",-1),kr=(0,o._)("button",{class:"btn btn-primary btn-block",type:"submit"},"Add Category",-1);function qr(e,t,a,s,n,l){return(0,o.wg)(),(0,o.iD)("div",vr,[(0,o._)("div",fr,[(0,o._)("form",{onSubmit:t[1]||(t[1]=(0,r.iM)(((...e)=>s.addCategory&&s.addCategory(...e)),["prevent"]))},[wr,(0,o._)("div",br,[Cr,(0,o.wy)((0,o._)("input",{type:"text",id:"categoryName",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>s.categoryName=e),placeholder:"Enter product name...",required:""},null,512),[[r.nr,s.categoryName]])]),kr],32)])])}var Pr={name:"AddCategory",setup(){const e=(0,Z.iH)(""),t=(0,Ne.oR)(),a=async()=>{await t.dispatch("addCategory",{categoryName:e.value}),Mi.push("/admin/dashboard")};return{categoryName:e,addCategory:a}}};const Ur=(0,c.Z)(Pr,[["render",qr]]);var xr=Ur;const Dr={class:"auth-wrapper"},Rr={class:"auth-inner"},Ar=(0,o._)("h3",null,"Edit Category",-1),zr={class:"form-group"},Nr=(0,o._)("label",{for:"categoryName"},"Category Name",-1),Sr=(0,o._)("button",{class:"btn btn-primary btn-block",type:"submit"},"Edit Category",-1);function Hr(e,t,a,s,n,l){return(0,o.wg)(),(0,o.iD)("div",Dr,[(0,o._)("div",Rr,[(0,o._)("form",{onSubmit:t[1]||(t[1]=(0,r.iM)(((...e)=>s.editCategory&&s.editCategory(...e)),["prevent"]))},[Ar,(0,o._)("div",zr,[Nr,(0,o.wy)((0,o._)("input",{type:"text",id:"categoryName",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>s.categoryName=e)},null,512),[[r.nr,s.categoryName]])]),Sr],32)])])}var Zr={name:"EditCategory",setup(){const e=(0,Z.iH)(""),t=(0,Z.iH)("");(0,o.bv)((()=>{e.value=Mi.currentRoute.value.params.category_id,H.Z.get(`/admin/edit_category/${e.value}`,{headers:{"Content-Type":"application/json"}}).then((e=>{t.value=e.data.category})).catch((e=>{console.log("Error fetching categories",e)}))}));const a=async()=>{try{const a=await H.Z.put(`/admin/edit_category/${e.value}`,{category_name:t.value,category_id:e.value});alert(a.data.message)}catch(a){alert("Failed to updated category")}Mi.push("/admin/dashboard")};return{category_id:e,categoryName:t,editCategory:a}}};const Tr=(0,c.Z)(Zr,[["render",Hr]]);var Or=Tr;const Er={class:"auth-wrapper"},Br={class:"auth-inner"},Mr=(0,o._)("h3",null,"Edit Product",-1),Ir={class:"form-group"},$r=(0,o._)("label",{for:"name"},"Product Name",-1),Vr={class:"form-group"},Yr=(0,o._)("label",{for:"price"},"Price",-1),Fr={class:"form-group"},Lr=(0,o._)("label",{for:"expiryDate"},"Expiry Date",-1),jr={class:"form-group"},Qr=(0,o._)("label",{for:"unit"},"Unit",-1),Wr={class:"form-group"},Kr=(0,o._)("label",{for:"quantity"},"Quantity",-1),Gr={class:"form-group"},Xr=(0,o._)("label",{for:"imageUrl"},"Image URL",-1),Jr={class:"form-group"},eo=(0,o._)("label",{for:"category"},"Category",-1),to=["value"],ao=(0,o._)("button",{class:"btn btn-primary btn-block",type:"submit"},"Edit Product",-1);function ro(e,t,a,s,n,l){return(0,o.wg)(),(0,o.iD)("div",Er,[(0,o._)("div",Br,[(0,o._)("form",{onSubmit:t[7]||(t[7]=(0,r.iM)(((...e)=>s.editProduct&&s.editProduct(...e)),["prevent"]))},[Mr,(0,o._)("div",Ir,[$r,(0,o.wy)((0,o._)("input",{type:"text",id:"name",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>s.productName=e),required:""},null,512),[[r.nr,s.productName]])]),(0,o._)("div",Vr,[Yr,(0,o.wy)((0,o._)("input",{type:"number",id:"price",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>s.price=e),placeholder:"Enter product price...",required:""},null,512),[[r.nr,s.price]])]),(0,o._)("div",Fr,[Lr,(0,o.wy)((0,o._)("input",{type:"date",id:"expiryDate",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>s.expiryDate=e),placeholder:"Enter product expiry date...",required:""},null,512),[[r.nr,s.expiryDate]])]),(0,o._)("div",jr,[Qr,(0,o.wy)((0,o._)("input",{type:"text",id:"unit",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>s.productUnit=e),placeholder:"Enter product unit...",required:""},null,512),[[r.nr,s.productUnit]])]),(0,o._)("div",Wr,[Kr,(0,o.wy)((0,o._)("input",{type:"number",id:"quantity",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>s.quantity=e),placeholder:"Enter product quantity...",required:""},null,512),[[r.nr,s.quantity]])]),(0,o._)("div",Gr,[Xr,(0,o.wy)((0,o._)("input",{type:"url",id:"imageUrl",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=e=>s.imageUrl=e),placeholder:"Enter product image url...",required:""},null,512),[[r.nr,s.imageUrl]])]),(0,o._)("div",Jr,[eo,(0,o.wy)((0,o._)("select",{id:"category",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=e=>s.selectedCategory=e),required:""},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.categories,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e[0],value:e[0]},(0,ne.zw)(e[1]),9,to)))),128))],512),[[r.bM,s.selectedCategory]])]),ao],32)])])}var oo={name:"AdminEditProduct",setup(){const e=(0,Z.iH)(""),t=(0,Z.iH)(0),a=(0,Z.iH)(""),r=(0,Z.iH)(""),s=(0,Z.iH)(0),n=(0,Z.iH)(""),l=(0,Z.iH)(null),c=(0,Z.iH)(""),i=(0,Ne.oR)(),d=(0,o.Fl)((()=>i.state.categories)),u=async()=>{await i.dispatch("fetchCategories")};(0,o.bv)((()=>{u(),c.value=Mi.currentRoute.value.params.product_id,H.Z.get(`/edit_product/${c.value}`,{headers:{"Content-Type":"application/json"}}).then((o=>{const c=o.data.product;e.value=c[1],t.value=c[2],r.value=c[3],a.value=c[4],n.value=c[5],s.value=c[6],l.value=c[7],d.value=o.data.categories})).catch((e=>{console.error("Error fetching categories",e)}))}));const p=async()=>{c.value=Mi.currentRoute.value.params.product_id;try{const o=await H.Z.put(`/edit_product/${c.value}`,{product_name:e.value,price:t.value,product_unit:r.value,expiry_date:a.value,image_path:n.value,quantity:s.value,category_id:l.value});alert(o.data.message),e.value="",t.value=0,r.value="",a.value="",n.value="",s.value=0,l.value=null}catch(o){alert("Failed to updated product")}Mi.push("/admin/dashboard")};return{productName:e,price:t,productUnit:r,expiryDate:a,imageUrl:n,quantity:s,selectedCategory:l,categories:d,editProduct:p}}};const so=(0,c.Z)(oo,[["render",ro]]);var no=so;const lo={class:"auth-wrapper"},co={class:"auth-inner"},io=(0,o._)("h3",null,"Edit Product",-1),uo={class:"form-group"},po=(0,o._)("label",{for:"name"},"Product Name",-1),mo={class:"form-group"},go=(0,o._)("label",{for:"price"},"Price",-1),yo={class:"form-group"},_o=(0,o._)("label",{for:"expiryDate"},"Expiry Date",-1),ho={class:"form-group"},vo=(0,o._)("label",{for:"unit"},"Unit",-1),fo={class:"form-group"},wo=(0,o._)("label",{for:"quantity"},"Quantity",-1),bo={class:"form-group"},Co=(0,o._)("label",{for:"imageUrl"},"Image URL",-1),ko={class:"form-group"},qo=(0,o._)("label",{for:"category"},"Category",-1),Po=["value"],Uo=(0,o._)("button",{class:"btn btn-primary btn-block",type:"submit"},"Edit Product",-1);function xo(e,t,a,s,n,l){return(0,o.wg)(),(0,o.iD)("div",lo,[(0,o._)("div",co,[(0,o._)("form",{onSubmit:t[7]||(t[7]=(0,r.iM)(((...e)=>s.editProduct&&s.editProduct(...e)),["prevent"]))},[io,(0,o._)("div",uo,[po,(0,o.wy)((0,o._)("input",{type:"text",id:"name",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>s.productName=e),required:""},null,512),[[r.nr,s.productName]])]),(0,o._)("div",mo,[go,(0,o.wy)((0,o._)("input",{type:"number",id:"price",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>s.price=e),placeholder:"Enter product price...",required:""},null,512),[[r.nr,s.price]])]),(0,o._)("div",yo,[_o,(0,o.wy)((0,o._)("input",{type:"date",id:"expiryDate",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>s.expiryDate=e),placeholder:"Enter product expiry date...",required:""},null,512),[[r.nr,s.expiryDate]])]),(0,o._)("div",ho,[vo,(0,o.wy)((0,o._)("input",{type:"text",id:"unit",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>s.productUnit=e),placeholder:"Enter product unit...",required:""},null,512),[[r.nr,s.productUnit]])]),(0,o._)("div",fo,[wo,(0,o.wy)((0,o._)("input",{type:"number",id:"quantity",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>s.quantity=e),placeholder:"Enter product quantity...",required:""},null,512),[[r.nr,s.quantity]])]),(0,o._)("div",bo,[Co,(0,o.wy)((0,o._)("input",{type:"url",id:"imageUrl",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=e=>s.imageUrl=e),placeholder:"Enter product image url...",required:""},null,512),[[r.nr,s.imageUrl]])]),(0,o._)("div",ko,[qo,(0,o.wy)((0,o._)("select",{id:"category",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=e=>s.selectedCategory=e),required:""},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.categories,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e[0],value:e[0]},(0,ne.zw)(e[1]),9,Po)))),128))],512),[[r.bM,s.selectedCategory]])]),Uo],32)])])}var Do={name:"ManagerEditProduct",setup(){const e=(0,Z.iH)(""),t=(0,Z.iH)(0),a=(0,Z.iH)(""),r=(0,Z.iH)(""),s=(0,Z.iH)(0),n=(0,Z.iH)(""),l=(0,Z.iH)(null),c=(0,Z.iH)(""),i=(0,Ne.oR)(),d=(0,o.Fl)((()=>i.state.categories)),u=async()=>{await i.dispatch("fetchCategories")};(0,o.bv)((()=>{u(),c.value=Mi.currentRoute.value.params.product_id,H.Z.get(`/edit_product/${c.value}`,{headers:{"Content-Type":"application/json"}}).then((o=>{const c=o.data.product;e.value=c[1],t.value=c[2],r.value=c[3],a.value=c[4],n.value=c[5],s.value=c[6],l.value=c[7],d.value=o.data.categories})).catch((e=>{console.error("Error fetching categories",e)}))}));const p=async()=>{c.value=Mi.currentRoute.value.params.product_id;try{const o=await H.Z.put(`/edit_product/${c.value}`,{product_name:e.value,price:t.value,product_unit:r.value,expiry_date:a.value,image_path:n.value,quantity:s.value,category_id:l.value});alert(o.data.message),e.value="",t.value=0,r.value="",a.value="",n.value="",s.value=0,l.value=null}catch(o){alert("Failed to updated product")}Mi.push("/store-manager/dashboard")};return{productName:e,price:t,productUnit:r,expiryDate:a,imageUrl:n,quantity:s,selectedCategory:l,categories:d,editProduct:p}}};const Ro=(0,c.Z)(Do,[["render",xo]]);var Ao=Ro;const zo={class:"category"},No={class:"row"},So={class:"card"},Ho={class:"card-body"},Zo=["src"],To={class:"card-title"},Oo={class:"card-text"},Eo={class:"card-text"},Bo={class:"card-text"},Mo=(0,o._)("div",null,[(0,o._)("button",{class:"btn btn-outline-success mr-10"},"ADD")],-1),Io={key:0,class:"text"};function $o(e,t,a,r,s,n){return(0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.searchProduct,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"product-container",key:e.category_id},[(0,o._)("div",zo,[(0,o._)("h3",null,(0,ne.zw)(e.category_name),1)]),(0,o._)("div",No,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.products,(e=>((0,o.wg)(),(0,o.iD)("ul",{class:"col",key:e[0]},[(0,o._)("li",So,[(0,o._)("div",Ho,[(0,o._)("img",{src:e[5],alt:"Product Image"},null,8,Zo),(0,o._)("h5",To,(0,ne.zw)(e[1]),1),(0,o._)("p",Oo,"Price: â‚¹ "+(0,ne.zw)(e[2])+" / "+(0,ne.zw)(e[3]),1),(0,o._)("p",Eo,"Expiry Date: "+(0,ne.zw)(e[4]),1),(0,o._)("p",Bo,"Quantity: "+(0,ne.zw)(e[6]),1),Mo])])])))),128)),0===s.searchProduct.length?((0,o.wg)(),(0,o.iD)("p",Io,"No product found")):(0,o.kq)("",!0)])])))),128)}var Vo={name:"SearchComponent",data(){return{searchProduct:[]}},mounted(){const e=this.$route.query.query;H.Z.get(`/search/${e}`,{headers:{"Content-Type":"application/json"}}).then((e=>{this.searchProduct=e.data.query})).catch((e=>{console.log("Error fetching categories",e)}))}};const Yo=(0,c.Z)(Vo,[["render",$o]]);var Fo=Yo;const Lo={class:"card profile-card"},jo=(0,o._)("h3",null,"Admin Profile",-1),Qo=(0,o._)("hr",null,null,-1),Wo={class:"card-body"},Ko=(0,o._)("strong",null,"First Name:",-1),Go=(0,o._)("strong",null,"Last Name:",-1),Xo=(0,o._)("strong",null,"Username:",-1);function Jo(e,t,a,r,s,n){const l=(0,o.up)("AdminNav");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(l),(0,o._)("div",Lo,[jo,Qo,(0,o._)("div",Wo,[(0,o._)("p",null,[Ko,(0,o.Uk)(" "+(0,ne.zw)(r.adminProfile[1]),1)]),(0,o._)("p",null,[Go,(0,o.Uk)(" "+(0,ne.zw)(r.adminProfile[2]),1)]),(0,o._)("p",null,[Xo,(0,o.Uk)(" "+(0,ne.zw)(r.adminProfile[3]),1)])]),(0,o._)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=(...e)=>r.logout&&r.logout(...e))},"Logout")])],64)}var es={name:"AdminProfile",components:{AdminNav:Ca},setup(){const e=(0,Ne.oR)(),t=(0,o.Fl)((()=>e.state.adminProfile)),a=async()=>{await e.dispatch("fetchAdminProfile")};(0,o.bv)((()=>{a()}));const r=async()=>{try{console.log(localStorage.access_token);const e=await H.Z.post("/logout",null,{headers:{Authorization:`Bearer ${localStorage.access_token}`}});alert(e.data.message),localStorage.removeItem("access_token"),Mi.push("/admin/login")}catch(e){console.error(e.response.data.message),alert("Logout failed")}};return{adminProfile:t,fetchAdminProfile:a,logout:r}}};const ts=(0,c.Z)(es,[["render",Jo]]);var as=ts;const rs={class:"card profile-card"},os=(0,o._)("h3",null,"User Profile",-1),ss=(0,o._)("hr",null,null,-1),ns={class:"card-body"},ls=(0,o._)("strong",null,"First Name:",-1),cs=(0,o._)("strong",null,"Last Name:",-1),is=(0,o._)("strong",null,"Username:",-1);function ds(e,t,a,r,s,n){const l=(0,o.up)("UserNav");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(l),(0,o._)("div",rs,[os,ss,(0,o._)("div",ns,[(0,o._)("p",null,[ls,(0,o.Uk)(" "+(0,ne.zw)(r.userProfile[1]),1)]),(0,o._)("p",null,[cs,(0,o.Uk)(" "+(0,ne.zw)(r.userProfile[2]),1)]),(0,o._)("p",null,[is,(0,o.Uk)(" "+(0,ne.zw)(r.userProfile[3]),1)])]),(0,o._)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=(...e)=>r.logout&&r.logout(...e))},"Logout")])],64)}var us={name:"UserProfile",components:{UserNav:ze},setup(){const e=(0,Ne.oR)(),t=(0,o.Fl)((()=>e.state.userProfile)),a=async()=>{await e.dispatch("fetchUserProfile")};(0,o.bv)((()=>{a()}));const r=async()=>{try{console.log(localStorage.access_token);const e=await H.Z.post("/logout",null,{headers:{Authorization:`Bearer ${localStorage.access_token}`}});alert(e.data.message),localStorage.removeItem("access_token"),Mi.push("/user/login")}catch(e){console.error(e.response.data.message),alert("Logout failed")}};return{userProfile:t,fetchUserProfile:a,logout:r}}};const ps=(0,c.Z)(us,[["render",ds]]);var ms=ps;const gs={class:"cart-container row"},ys={key:0,class:"cart-items"},_s=(0,o._)("h3",{class:"cart-title"},"Your Cart",-1),hs=(0,o._)("hr",null,null,-1),vs={class:"width"},fs={class:"card-body",style:{display:"flex"}},ws=["src"],bs={class:"product-detail"},Cs={class:"card-title"},ks={class:"card-text"},qs={class:"card-text"},Ps=["onUpdate:modelValue","onChange"],Us=["onClick"],xs=(0,o._)("hr",null,null,-1),Ds={key:0,class:"price-text"},Rs={key:1,class:"cart-empty"},As={key:2,class:"card price-card"},zs={class:"text",style:{"font-size":"22px"}};function Ns(e,t,a,s,n,l){const c=(0,o.up)("AdminNav");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(c),(0,o._)("div",gs,[s.cartProducts.length>0?((0,o.wg)(),(0,o.iD)("div",ys,[_s,hs,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.cartProducts,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e[3]},[(0,o._)("div",vs,[(0,o._)("div",fs,[(0,o._)("img",{src:e[7],alt:"Product Image"},null,8,ws),(0,o._)("div",bs,[(0,o._)("h5",Cs,(0,ne.zw)(e[4]),1),(0,o._)("p",ks,[(0,o._)("strong",null,"â‚¹"+(0,ne.zw)(e[5])+" / "+(0,ne.zw)(e[6]),1)]),(0,o._)("p",qs,[(0,o.Uk)("Qty: "),(0,o.wy)((0,o._)("input",{type:"number",id:"quantity",name:"quantity",class:"quantity","onUpdate:modelValue":t=>e[8]=t,min:"1",onChange:t=>s.updateQuantity(e[3],e[8])},null,40,Ps),[[r.nr,e[8]]])]),(0,o._)("a",{class:"remove",onClick:t=>s.removeFromCart(e[3])},"Remove",8,Us)])])]),xs])))),128)),s.cartProducts.length>0?((0,o.wg)(),(0,o.iD)("p",Ds,[(0,o.Uk)("Subtotal ("+(0,ne.zw)(s.totalItems)+" items): ",1),(0,o._)("strong",null,"â‚¹"+(0,ne.zw)(s.totalPrice),1)])):(0,o.kq)("",!0)])):(0,o.kq)("",!0),0===s.cartProducts.length?((0,o.wg)(),(0,o.iD)("p",Rs,"Your cart is empty")):(0,o.kq)("",!0),s.cartProducts.length>0?((0,o.wg)(),(0,o.iD)("div",As,[(0,o._)("p",zs,[(0,o.Uk)("Subtotal ("+(0,ne.zw)(s.totalItems)+" items): ",1),(0,o._)("strong",null,"â‚¹"+(0,ne.zw)(s.totalPrice),1)]),(0,o._)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=e=>s.checkout())},"Proceed to Pay")])):(0,o.kq)("",!0)])],64)}var Ss={name:"AdminCart",components:{AdminNav:Ca},setup(){const e=(0,Ne.oR)(),t=(0,o.Fl)((()=>e.state.adminCartProducts)),a=(0,o.Fl)((()=>e.state.adminTotalItems)),r=(0,o.Fl)((()=>e.state.adminTotalPrice));(0,o.bv)((()=>{e.dispatch("fetchAdminCartProducts")}));const s=async t=>{await e.dispatch("removeFromCart",{product_id:t,role:"admin"})},n=async(t,a)=>{await e.dispatch("updateQuantity",{product_id:t,newQuantity:a,role:"admin"})},l=()=>{Mi.push("/admin/checkout")};return{cartProducts:t,totalItems:a,totalPrice:r,removeFromCart:s,updateQuantity:n,checkout:l}}};const Hs=(0,c.Z)(Ss,[["render",Ns]]);var Zs=Hs;const Ts={class:"cart-container row"},Os={key:0,class:"cart-items"},Es=(0,o._)("h3",{class:"cart-title"},"Your Cart",-1),Bs=(0,o._)("hr",null,null,-1),Ms={class:"width"},Is={class:"card-body",style:{display:"flex"}},$s=["src"],Vs={class:"product-detail"},Ys={class:"card-title"},Fs={class:"card-text"},Ls={class:"card-text"},js=["onUpdate:modelValue","onChange"],Qs=["onClick"],Ws=(0,o._)("hr",null,null,-1),Ks={key:0,class:"price-text"},Gs={key:1,class:"cart-empty"},Xs={key:2,class:"card price-card"},Js={class:"text",style:{"font-size":"22px"}};function en(e,t,a,s,n,l){const c=(0,o.up)("UserNav");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(c),(0,o._)("div",Ts,[s.cartProducts.length>0?((0,o.wg)(),(0,o.iD)("div",Os,[Es,Bs,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.cartProducts,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e[3]},[(0,o._)("div",Ms,[(0,o._)("div",Is,[(0,o._)("img",{src:e[7],alt:"Product Image"},null,8,$s),(0,o._)("div",Vs,[(0,o._)("h5",Ys,(0,ne.zw)(e[4]),1),(0,o._)("p",Fs,[(0,o._)("strong",null,"â‚¹"+(0,ne.zw)(e[5])+" / "+(0,ne.zw)(e[6]),1)]),(0,o._)("p",Ls,[(0,o.Uk)("Qty: "),(0,o.wy)((0,o._)("input",{type:"number",id:"quantity",name:"quantity",class:"quantity","onUpdate:modelValue":t=>e[8]=t,min:"1",onChange:t=>s.updateQuantity(e[3],e[8])},null,40,js),[[r.nr,e[8]]])]),(0,o._)("a",{class:"remove",onClick:t=>s.removeFromCart(e[3])},"Remove",8,Qs)])])]),Ws])))),128)),s.cartProducts.length>0?((0,o.wg)(),(0,o.iD)("p",Ks,[(0,o.Uk)("Subtotal ("+(0,ne.zw)(s.totalItems)+" items): ",1),(0,o._)("strong",null,"â‚¹"+(0,ne.zw)(s.totalPrice),1)])):(0,o.kq)("",!0)])):(0,o.kq)("",!0),0===s.cartProducts.length?((0,o.wg)(),(0,o.iD)("p",Gs,"Your cart is empty")):(0,o.kq)("",!0),s.cartProducts.length>0?((0,o.wg)(),(0,o.iD)("div",Xs,[(0,o._)("p",Js,[(0,o.Uk)("Subtotal ("+(0,ne.zw)(s.totalItems)+" items): ",1),(0,o._)("strong",null,"â‚¹"+(0,ne.zw)(s.totalPrice),1)]),(0,o._)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=e=>l.checkout())},"Proceed to Pay")])):(0,o.kq)("",!0)])],64)}var tn={name:"UserCart",components:{UserNav:ze},setup(){const e=(0,Ne.oR)(),t=(0,o.Fl)((()=>e.state.userCartProducts)),a=(0,o.Fl)((()=>e.state.userTotalItems)),r=(0,o.Fl)((()=>e.state.userTotalPrice));(0,o.bv)((()=>{e.dispatch("fetchUserCartProducts")}));const s=async t=>{await e.dispatch("removeFromCart",{product_id:t,role:"user"})},n=async(t,a)=>{await e.dispatch("updateQuantity",{product_id:t,newQuantity:a,role:"user"})};return{cartProducts:t,totalItems:a,totalPrice:r,removeFromCart:s,updateQuantity:n}},methods:{checkout(){this.$router.push("/user/checkout")}}};const an=(0,c.Z)(tn,[["render",en]]);var rn=an;const on={class:"cart-container",style:{"margin-top":"350px"}},sn={class:"pay-card"},nn=(0,o._)("h3",{style:{"margin-bottom":"20px"}},"Checkout",-1),ln={style:{"font-size":"24px","margin-bottom":"20px"}};function cn(e,t,a,r,s,n){return(0,o.wg)(),(0,o.iD)("div",on,[(0,o._)("div",sn,[nn,(0,o._)("p",ln,"Pay "+(0,ne.zw)(s.totalPrice)+" and complete your order",1),(0,o._)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=e=>n.completeOrder(s.adminId))},"Complete order")])])}var dn={name:"AdminCheckout",data(){return{totalPrice:0,adminId:null}},mounted(){H.Z.get("/admin/checkout",{headers:{Authorization:`Bearer ${localStorage.access_token}`}}).then((e=>{this.totalPrice=e.data.total_price,this.adminId=e.data.admin_id}))},methods:{async completeOrder(e){const t=window.confirm("Are you sure you want to pay and complete your order?");if(t)try{await H.Z.post("/admin/orders",{admin_id:e,role:"admin"}),alert("Orders completed successfully"),this.$router.push("/admin/dashboard")}catch(a){console.error(a)}}}};const un=(0,c.Z)(dn,[["render",cn]]);var pn=un;const mn={class:"cart-container row"},gn={key:0,class:"cart-items"},yn=(0,o._)("h3",{class:"cart-title"},"Your Orders",-1),_n=(0,o._)("hr",null,null,-1),hn={class:"width"},vn={class:"card-body",style:{display:"flex"}},fn=["src"],wn={class:"product-detail"},bn={class:"card-title"},Cn={class:"card-text"},kn={class:"card-text"},qn=(0,o._)("hr",null,null,-1),Pn={key:0,class:"price-text"},Un={key:1,class:"cart-empty"};function xn(e,t,a,r,s,n){const l=(0,o.up)("AdminNav");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(l),(0,o._)("div",mn,[r.orders.length>0?((0,o.wg)(),(0,o.iD)("div",gn,[yn,_n,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.orders,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e[3]},[(0,o._)("div",hn,[(0,o._)("div",vn,[(0,o._)("img",{src:e[7],alt:"Product Image"},null,8,fn),(0,o._)("div",wn,[(0,o._)("h5",bn,(0,ne.zw)(e[4]),1),(0,o._)("p",Cn,[(0,o._)("strong",null,"â‚¹"+(0,ne.zw)(e[5])+" / "+(0,ne.zw)(e[6]),1)]),(0,o._)("p",kn,"Qty: "+(0,ne.zw)(e[8]),1)])])]),qn])))),128)),r.orders.length>0?((0,o.wg)(),(0,o.iD)("p",Pn,[(0,o.Uk)("Subtotal: "),(0,o._)("strong",null,"â‚¹"+(0,ne.zw)(r.totalPrice),1)])):(0,o.kq)("",!0)])):(0,o.kq)("",!0),0===r.orders.length?((0,o.wg)(),(0,o.iD)("p",Un,"No Orders found")):(0,o.kq)("",!0)])],64)}var Dn={name:"AdminOrders",components:{AdminNav:Ca},setup(){const e=(0,Ne.oR)(),t=(0,o.Fl)((()=>e.state.adminOrders)),a=(0,o.Fl)((()=>e.state.adminOrderTotal));return(0,o.bv)((()=>{e.dispatch("fetchAdminOrders")})),{orders:t,totalPrice:a}}};const Rn=(0,c.Z)(Dn,[["render",xn]]);var An=Rn;const zn={class:"cart-container",style:{"margin-top":"350px"}},Nn={class:"pay-card"},Sn=(0,o._)("h3",{style:{"margin-bottom":"20px"}},"Checkout",-1),Hn={style:{"font-size":"24px","margin-bottom":"20px"}};function Zn(e,t,a,r,s,n){return(0,o.wg)(),(0,o.iD)("div",zn,[(0,o._)("div",Nn,[Sn,(0,o._)("p",Hn,"Pay "+(0,ne.zw)(s.totalPrice)+" and complete your order",1),(0,o._)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=e=>n.completeOrder(s.userId))},"Complete order")])])}var Tn={name:"UserCheckout",data(){return{totalPrice:0,userId:null}},mounted(){H.Z.get("/user/checkout",{headers:{Authorization:`Bearer ${localStorage.access_token}`}}).then((e=>{this.totalPrice=e.data.total_price,this.userId=e.data.user_id}))},methods:{async completeOrder(e){const t=window.confirm("Are you sure you want to pay and complete your order?");if(t)try{await H.Z.post("/user/orders",{user_id:e}),alert("Orders completed successfully"),this.$router.push("/user/dashboard")}catch(a){console.error(a)}}}};const On=(0,c.Z)(Tn,[["render",Zn]]);var En=On;const Bn={class:"cart-container row"},Mn={key:0,class:"cart-items"},In=(0,o._)("h3",{class:"cart-title"},"Your Orders",-1),$n=(0,o._)("hr",null,null,-1),Vn={class:"width"},Yn={class:"card-body",style:{display:"flex"}},Fn=["src"],Ln={class:"product-detail"},jn={class:"card-title"},Qn={class:"card-text"},Wn={class:"card-text"},Kn=(0,o._)("hr",null,null,-1),Gn={key:0,class:"price-text"},Xn={key:1,class:"cart-empty"};function Jn(e,t,a,r,s,n){const l=(0,o.up)("UserNav");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(l),(0,o._)("div",Bn,[r.orders.length>0?((0,o.wg)(),(0,o.iD)("div",Mn,[In,$n,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.orders,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e[3]},[(0,o._)("div",Vn,[(0,o._)("div",Yn,[(0,o._)("img",{src:e[7],alt:"Product Image"},null,8,Fn),(0,o._)("div",Ln,[(0,o._)("h5",jn,(0,ne.zw)(e[4]),1),(0,o._)("p",Qn,[(0,o._)("strong",null,"â‚¹"+(0,ne.zw)(e[5])+" / "+(0,ne.zw)(e[6]),1)]),(0,o._)("p",Wn,"Qty: "+(0,ne.zw)(e[8]),1)])])]),Kn])))),128)),r.orders.length>0?((0,o.wg)(),(0,o.iD)("p",Gn,[(0,o.Uk)("Subtotal: "),(0,o._)("strong",null,"â‚¹"+(0,ne.zw)(r.totalPrice),1)])):(0,o.kq)("",!0)])):(0,o.kq)("",!0),0===r.orders.length?((0,o.wg)(),(0,o.iD)("p",Xn,"No Orders found")):(0,o.kq)("",!0)])],64)}var el={name:"UserOrders",components:{UserNav:ze},setup(){const e=(0,Ne.oR)(),t=(0,o.Fl)((()=>e.state.userOrders)),a=(0,o.Fl)((()=>e.state.userOrderTotal));return(0,o.bv)((()=>{e.dispatch("fetchUserOrders")})),{orders:t,totalPrice:a}}};const tl=(0,c.Z)(el,[["render",Jn]]);var al=tl;const rl={class:"cart-container row"},ol={key:0,class:"cart-items requests-body"},sl=(0,o._)("h3",{class:"cart-title"},"Store Manager Login Requests",-1),nl=(0,o._)("hr",null,null,-1),ll={class:"card-body",style:{display:"flex","justify-content":"space-between"}},cl={style:{"text-align":"left"}},il={class:"card-title"},dl={class:"card-text"},ul={key:0},pl=["onClick"],ml=["onClick"],gl={key:1},yl={key:2},_l=(0,o._)("hr",null,null,-1),hl={key:1,class:"cart-empty"},vl={class:"cart-container row"},fl={key:0,class:"cart-items requests-body"},wl=(0,o._)("h3",{class:"cart-title"},"Store Manager Category Requests",-1),bl=(0,o._)("hr",null,null,-1),Cl={class:"card-body",style:{display:"flex","justify-content":"space-between"}},kl={style:{"text-align":"left"}},ql={class:"card-title"},Pl={class:"card-text"},Ul={class:"card-text"},xl={key:0},Dl=["onClick"],Rl=["onClick"],Al={key:1},zl={key:2},Nl=(0,o._)("hr",null,null,-1);function Sl(e,t,a,r,s,n){const l=(0,o.up)("AdminNav");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(l),(0,o._)("div",rl,[r.loginRequests.length>0?((0,o.wg)(),(0,o.iD)("div",ol,[sl,nl,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.loginRequests,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.id},[(0,o._)("div",ll,[(0,o._)("div",cl,[(0,o._)("h5",il,"Name: "+(0,ne.zw)(e.first_name)+" "+(0,ne.zw)(e.last_name),1),(0,o._)("p",dl,"Username: "+(0,ne.zw)(e.username),1)]),"Pending"==e.status?((0,o.wg)(),(0,o.iD)("div",ul,[(0,o._)("button",{class:"btn btn-success",style:{"margin-right":"10px"},onClick:t=>r.approveRequest(e.token)},"Approve",8,pl),(0,o._)("button",{class:"btn btn-danger",onClick:t=>r.rejectRequest(e.token)},"Reject",8,ml)])):(0,o.kq)("",!0),"Approved"==e.status?((0,o.wg)(),(0,o.iD)("p",gl,"Approved")):(0,o.kq)("",!0),"Rejected"==e.status?((0,o.wg)(),(0,o.iD)("p",yl,"Rejected")):(0,o.kq)("",!0)]),_l])))),128))])):(0,o.kq)("",!0),0===r.loginRequests.length?((0,o.wg)(),(0,o.iD)("p",hl,"No requests")):(0,o.kq)("",!0)]),(0,o._)("div",vl,[r.categoryRequests.length>0?((0,o.wg)(),(0,o.iD)("div",fl,[wl,bl,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.categoryRequests,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.id},[(0,o._)("div",Cl,[(0,o._)("div",kl,[(0,o._)("h5",ql," Category: "+(0,ne.zw)(e[1]),1),(0,o._)("p",Pl,"Manager Name: "+(0,ne.zw)(e[3]),1),(0,o._)("p",Ul,"Request Type: "+(0,ne.zw)(e[4]),1)]),"Pending"==e[2]?((0,o.wg)(),(0,o.iD)("div",xl,[(0,o._)("button",{class:"btn btn-success",style:{"margin-right":"5px"},onClick:t=>r.approveCategoryRequest(e[0],e[1],e[4])},"Approve",8,Dl),(0,o._)("button",{class:"btn btn-danger",style:{"margin-right":"-20px"},onClick:t=>r.rejectCategoryRequest(e[0],e[1],e[4])},"Reject",8,Rl)])):(0,o.kq)("",!0),"Approved"==e[2]?((0,o.wg)(),(0,o.iD)("p",Al,"Approved")):(0,o.kq)("",!0),"Rejected"==e[2]?((0,o.wg)(),(0,o.iD)("p",zl,"Rejected")):(0,o.kq)("",!0)]),Nl])))),128))])):(0,o.kq)("",!0)])],64)}var Hl={name:"RequestPage",components:{AdminNav:Ca},setup(){const e=(0,Ne.oR)(),t=(0,o.Fl)((()=>e.state.loginRequests)),a=(0,o.Fl)((()=>e.state.categoryRequests)),r=async()=>{await e.dispatch("fetchLoginRequests")},s=async()=>{await e.dispatch("fetchCategoryRequests")};(0,o.bv)((()=>{r(),s()}));const n=async t=>{await e.dispatch("approveLoginRequest",{token:t})},l=async t=>{await e.dispatch("rejectLoginRequest",{token:t})},c=async(t,a,r)=>{"Add"==r?await e.dispatch("approveAddCategoryRequest",{request_id:t,category_name:a}):"Delete"==r?await e.dispatch("approveDeleteCategoryRequest",{request_id:t,category_name:a}):await e.dispatch("approveEditCategoryRequest",{request_id:t,category_name:a})},i=async(t,a,r)=>{"Add"==r?await e.dispatch("rejectAddCategoryRequest",{request_id:t,category_name:a}):"Delete"==r?await e.dispatch("rejectDeleteCategoryRequest",{request_id:t}):await e.dispatch("rejectEditCategoryRequest",{request_id:t})};return{loginRequests:t,categoryRequests:a,approveRequest:n,rejectRequest:l,approveCategoryRequest:c,rejectCategoryRequest:i}}};const Zl=(0,c.Z)(Hl,[["render",Sl]]);var Tl=Zl;const Ol={class:"product-container"},El={style:{display:"flex","justify-content":"end","margin-right":"40px"}},Bl={class:"category"},Ml=["onClick"],Il=["onClick"],$l={class:"row"},Vl={class:"card"},Yl={class:"card-body"},Fl=["src"],Ll={class:"name-price"},jl={class:"card-title"},Ql={class:"card-text"},Wl={class:"card-text"},Kl={class:"card-text"},Gl=["onClick"],Xl={key:1,class:"btn btn-outline-warning",style:{"margin-right":"7px"}},Jl=["onClick"],ec=["onClick"],tc={key:0,class:"text"};function ac(e,t,a,r,s,n){const l=(0,o.up)("ManagerNav");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(l),(0,o._)("div",Ol,[(0,o._)("div",El,[(0,o._)("button",{class:"btn btn-outline-warning",onClick:t[0]||(t[0]=e=>r.exportCsvReport())},"EXPORT CSV REPORT")]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.productsByCategory,(e=>((0,o.wg)(),(0,o.iD)("div",{style:{"margin-top":"-30px","margin-bottom":"20px"},key:e.category_id},[(0,o._)("div",Bl,[(0,o._)("h3",null,(0,ne.zw)(e.category_name),1),(0,o._)("i",{class:"fa fa-edit",onClick:t=>r.requestEditCategory(e.category_id),style:{"font-size":"20px",color:"blue","margin-top":"8px"}},null,8,Ml),(0,o._)("i",{class:"fa fa-remove",onClick:t=>r.requestDeleteCategory(e.category_id),style:{"font-size":"24px",color:"red","margin-top":"4px"}},null,8,Il)]),(0,o._)("div",$l,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.products,(e=>((0,o.wg)(),(0,o.iD)("ul",{class:"col",key:e.id},[(0,o._)("li",Vl,[(0,o._)("div",Yl,[(0,o._)("img",{src:e.image_path,alt:"Product Image"},null,8,Fl),(0,o._)("div",Ll,[(0,o._)("h5",jl,(0,ne.zw)(e.product_name),1),(0,o._)("p",Ql,[(0,o._)("strong",null,"â‚¹"+(0,ne.zw)(e.price)+" / "+(0,ne.zw)(e.product_unit),1)])]),(0,o._)("p",Wl,"Expiry Date: "+(0,ne.zw)(e.expiry_date),1),(0,o._)("p",Kl,"Quantity: "+(0,ne.zw)(e.quantity),1),(0,o._)("div",null,[e.quantity>0?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"btn btn-outline-success mr-10",onClick:t=>r.addToCart(e.id,e.product_name,e.price,e.product_unit,e.image_path)},"ADD",8,Gl)):(0,o.kq)("",!0),0==e.quantity?((0,o.wg)(),(0,o.iD)("button",Xl,"SOLD")):(0,o.kq)("",!0),(0,o._)("button",{class:"btn btn-outline-primary mr-10",onClick:t=>r.editProduct(e.id)},"EDIT",8,Jl),(0,o._)("button",{class:"btn btn-outline-danger",onClick:t=>r.deleteProduct(e.id)},"DELETE",8,ec)])])])])))),128)),0===e.products.length?((0,o.wg)(),(0,o.iD)("p",tc,"No product added")):(0,o.kq)("",!0)])])))),128))])],64)}const rc={class:"navbar navbar-expand-lg navbar-light fixed-nav"},oc=(0,o._)("a",{class:"navbar-brand",href:"/store-manager/dashboard"},"Dashboard",-1),sc=(0,o.uE)('<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto"><li class="nav-item"><a href="/store-manager/add-product" class="nav-link">Add Product</a></li><li class="nav-item"><a href="/store-manager/request-add-category" class="nav-link">Add Category</a></li><li class="nav-item"><a href="/store-manager/cart" class="nav-link">Cart</a></li><li class="nav-item"><a href="/store-manager/orders" class="nav-link">Orders</a></li><li class="nav-item"><a href="/store-manager/profile" class="nav-link">Profile</a></li></ul></div>',2);function nc(e,t,a,r,s,n){const l=(0,o.up)("SearchBar");return(0,o.wg)(),(0,o.iD)("nav",rc,[oc,(0,o.Wm)(l),sc])}var lc={name:"ManagerNav",components:{SearchBar:De}};const cc=(0,c.Z)(lc,[["render",nc]]);var ic=cc,dc={name:"ManagerDashboard",components:{ManagerNav:ic},setup(){const e=(0,Ne.oR)(),t=(0,o.Fl)((()=>e.state.productsByCategory)),a=async()=>{await e.dispatch("fetchProductsByCategory")};(0,o.bv)((()=>{a()}));const r=async t=>{await e.dispatch("requestDeleteCategory",{category_id:t})},s=async e=>{Mi.push({name:"store-manager-edit-category",params:{category_id:e}})},n=e=>{Mi.push({name:"store-manager-edit-product",params:{product_id:e}})},l=async t=>{await e.dispatch("deleteProduct",{product_id:t})},c=async(t,a,r,o,s,n)=>{await e.dispatch("addToManagerCart",{product_id:t,product_name:a,price:r,product_unit:o,image_path:s,quantity:n})},i=async()=>{try{await H.Z.post("/store_manager/export_csv_report",{role:"manager"},{headers:{Authorization:`Bearer ${localStorage.access_token}`}}),alert("Your Report has been download in csv folder")}catch(e){console.error(e)}};return{productsByCategory:t,editProduct:n,deleteProduct:l,addToCart:c,requestDeleteCategory:r,requestEditCategory:s,exportCsvReport:i}}};const uc=(0,c.Z)(dc,[["render",ac]]);var pc=uc;const mc={class:"cart-container row"},gc={key:0,class:"cart-items"},yc=(0,o._)("h3",{class:"cart-title"},"Your Cart",-1),_c=(0,o._)("hr",null,null,-1),hc={class:"width"},vc={class:"card-body",style:{display:"flex"}},fc=["src"],wc={class:"product-detail"},bc={class:"card-title"},Cc={class:"card-text"},kc={class:"card-text"},qc=["onUpdate:modelValue","onChange"],Pc=["onClick"],Uc=(0,o._)("hr",null,null,-1),xc={key:0,class:"price-text"},Dc={key:1,class:"cart-empty"},Rc={key:2,class:"card price-card"},Ac={class:"text",style:{"font-size":"22px"}};function zc(e,t,a,s,n,l){const c=(0,o.up)("ManagerNav");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(c),(0,o._)("div",mc,[s.cartProducts.length>0?((0,o.wg)(),(0,o.iD)("div",gc,[yc,_c,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.cartProducts,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e[3]},[(0,o._)("div",hc,[(0,o._)("div",vc,[(0,o._)("img",{src:e[7],alt:"Product Image"},null,8,fc),(0,o._)("div",wc,[(0,o._)("h5",bc,(0,ne.zw)(e[4]),1),(0,o._)("p",Cc,[(0,o._)("strong",null,"â‚¹"+(0,ne.zw)(e[5])+" / "+(0,ne.zw)(e[6]),1)]),(0,o._)("p",kc,[(0,o.Uk)("Qty: "),(0,o.wy)((0,o._)("input",{type:"number",id:"quantity",name:"quantity",class:"quantity","onUpdate:modelValue":t=>e[8]=t,min:"1",onChange:t=>s.updateQuantity(e[3],e[8])},null,40,qc),[[r.nr,e[8]]])]),(0,o._)("a",{class:"remove",onClick:t=>s.removeFromCart(e[3])},"Remove",8,Pc)])])]),Uc])))),128)),s.cartProducts.length>0?((0,o.wg)(),(0,o.iD)("p",xc,[(0,o.Uk)("Subtotal ("+(0,ne.zw)(s.totalItems)+" items): ",1),(0,o._)("strong",null,"â‚¹"+(0,ne.zw)(s.totalPrice),1)])):(0,o.kq)("",!0)])):(0,o.kq)("",!0),0===s.cartProducts.length?((0,o.wg)(),(0,o.iD)("p",Dc,"Your cart is empty")):(0,o.kq)("",!0),s.cartProducts.length>0?((0,o.wg)(),(0,o.iD)("div",Rc,[(0,o._)("p",Ac,[(0,o.Uk)("Subtotal ("+(0,ne.zw)(s.totalItems)+" items): ",1),(0,o._)("strong",null,"â‚¹"+(0,ne.zw)(s.totalPrice),1)]),(0,o._)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=e=>s.checkout())},"Proceed to Pay")])):(0,o.kq)("",!0)])],64)}var Nc={name:"ManagerCart",components:{ManagerNav:ic},setup(){const e=(0,Ne.oR)(),t=(0,o.Fl)((()=>e.state.managerCartProducts)),a=(0,o.Fl)((()=>e.state.managerTotalItems)),r=(0,o.Fl)((()=>e.state.managerTotalPrice));(0,o.bv)((()=>{e.dispatch("fetchManagerCartProducts")}));const s=async t=>{await e.dispatch("removeFromCart",{product_id:t,role:"manager"})},n=async(t,a)=>{await e.dispatch("updateQuantity",{product_id:t,newQuantity:a,role:"manager"})},l=()=>{Mi.push("/store-manager/checkout")};return{cartProducts:t,totalItems:a,totalPrice:r,removeFromCart:s,updateQuantity:n,checkout:l}}};const Sc=(0,c.Z)(Nc,[["render",zc]]);var Hc=Sc;const Zc={class:"cart-container",style:{"margin-top":"350px"}},Tc={class:"pay-card"},Oc=(0,o._)("h3",{style:{"margin-bottom":"20px"}},"Checkout",-1),Ec={style:{"font-size":"24px","margin-bottom":"20px"}};function Bc(e,t,a,r,s,n){return(0,o.wg)(),(0,o.iD)("div",Zc,[(0,o._)("div",Tc,[Oc,(0,o._)("p",Ec,"Pay "+(0,ne.zw)(s.totalPrice)+" and complete your order",1),(0,o._)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=e=>n.completeOrder(s.managerId))},"Complete order")])])}var Mc={name:"ManagerCheckout",data(){return{totalPrice:0,managerId:null}},mounted(){H.Z.get("/store_manager/checkout",{headers:{Authorization:`Bearer ${localStorage.access_token}`}}).then((e=>{this.totalPrice=e.data.total_price,this.managerId=e.data.manager_id}))},methods:{async completeOrder(e){const t=window.confirm("Are you sure you want to pay and complete your order?");if(t)try{await H.Z.post("/store_manager/orders",{manager_id:e}),alert("Orders completed successfully"),this.$router.push("/store-manager/dashboard")}catch(a){console.error(a)}}}};const Ic=(0,c.Z)(Mc,[["render",Bc]]);var $c=Ic;const Vc={class:"cart-container row"},Yc={key:0,class:"cart-items"},Fc=(0,o._)("h3",{class:"cart-title"},"Your Orders",-1),Lc=(0,o._)("hr",null,null,-1),jc={class:"width"},Qc={class:"card-body",style:{display:"flex"}},Wc=["src"],Kc={class:"product-detail"},Gc={class:"card-title"},Xc={class:"card-text"},Jc={class:"card-text"},ei=(0,o._)("hr",null,null,-1),ti={key:0,class:"price-text"},ai={key:1,class:"cart-empty"};function ri(e,t,a,r,s,n){const l=(0,o.up)("ManagerNav");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(l),(0,o._)("div",Vc,[r.orders.length>0?((0,o.wg)(),(0,o.iD)("div",Yc,[Fc,Lc,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.orders,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e[3]},[(0,o._)("div",jc,[(0,o._)("div",Qc,[(0,o._)("img",{src:e[7],alt:"Product Image"},null,8,Wc),(0,o._)("div",Kc,[(0,o._)("h5",Gc,(0,ne.zw)(e[4]),1),(0,o._)("p",Xc,[(0,o._)("strong",null,"â‚¹"+(0,ne.zw)(e[5])+" / "+(0,ne.zw)(e[6]),1)]),(0,o._)("p",Jc,"Qty: "+(0,ne.zw)(e[8]),1)])])]),ei])))),128)),r.orders.length>0?((0,o.wg)(),(0,o.iD)("p",ti,[(0,o.Uk)("Subtotal: "),(0,o._)("strong",null,"â‚¹"+(0,ne.zw)(r.totalPrice),1)])):(0,o.kq)("",!0)])):(0,o.kq)("",!0),0===r.orders.length?((0,o.wg)(),(0,o.iD)("p",ai,"No Orders found")):(0,o.kq)("",!0)])],64)}var oi={name:"ManagerOrders",components:{ManagerNav:ic},setup(){const e=(0,Ne.oR)(),t=(0,o.Fl)((()=>e.state.managerOrders)),a=(0,o.Fl)((()=>e.state.managerOrderTotal));return(0,o.bv)((()=>{e.dispatch("fetchManagerOrders")})),{orders:t,totalPrice:a}}};const si=(0,c.Z)(oi,[["render",ri]]);var ni=si;const li={class:"card profile-card"},ci=(0,o._)("h3",null,"Store Manager Profile",-1),ii=(0,o._)("hr",null,null,-1),di={class:"card-body"},ui=(0,o._)("strong",null,"First Name:",-1),pi=(0,o._)("strong",null,"Last Name:",-1),mi=(0,o._)("strong",null,"Username:",-1);function gi(e,t,a,r,s,n){const l=(0,o.up)("ManagerNav");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(l),(0,o._)("div",li,[ci,ii,(0,o._)("div",di,[(0,o._)("p",null,[ui,(0,o.Uk)(" "+(0,ne.zw)(r.managerProfile[1]),1)]),(0,o._)("p",null,[pi,(0,o.Uk)(" "+(0,ne.zw)(r.managerProfile[2]),1)]),(0,o._)("p",null,[mi,(0,o.Uk)(" "+(0,ne.zw)(r.managerProfile[3]),1)])]),(0,o._)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=(...e)=>r.logout&&r.logout(...e))},"Logout")])],64)}var yi={name:"ManagerProfile",components:{ManagerNav:ic},setup(){const e=(0,Ne.oR)(),t=(0,o.Fl)((()=>e.state.managerProfile)),a=async()=>{await e.dispatch("fetchManagerProfile")};(0,o.bv)((()=>{a()}));const r=async()=>{try{console.log(localStorage.access_token);const e=await H.Z.post("/logout",null,{headers:{Authorization:`Bearer ${localStorage.access_token}`}});alert(e.data.message),localStorage.removeItem("access_token"),Mi.push("/store-manager/login")}catch(e){console.error(e.response.data.message),alert("Logout failed")}};return{managerProfile:t,fetchManagerProfile:a,logout:r}}};const _i=(0,c.Z)(yi,[["render",gi]]);var hi=_i;const vi={class:"auth-wrapper"},fi={class:"auth-inner"},wi=(0,o._)("h3",null,"Request New Category",-1),bi={class:"form-group"},Ci=(0,o._)("label",{for:"categoryName"},"Category Name",-1),ki=(0,o._)("button",{class:"btn btn-primary btn-block",type:"submit"},"Add Category",-1);function qi(e,t,a,s,n,l){return(0,o.wg)(),(0,o.iD)("div",vi,[(0,o._)("div",fi,[(0,o._)("form",{onSubmit:t[1]||(t[1]=(0,r.iM)(((...e)=>s.requestToAddCategory&&s.requestToAddCategory(...e)),["prevent"]))},[wi,(0,o._)("div",bi,[Ci,(0,o.wy)((0,o._)("input",{type:"text",id:"categoryName",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>s.categoryName=e),placeholder:"Enter product name...",required:""},null,512),[[r.nr,s.categoryName]])]),ki],32)])])}var Pi={name:"ReuestAddCategory",setup(){const e=(0,Z.iH)(""),t=(0,Ne.oR)(),a=async()=>{await t.dispatch("requestAddCategory",{categoryName:e.value}),Mi.push("/store-manager/dashboard")};return{categoryName:e,requestToAddCategory:a}}};const Ui=(0,c.Z)(Pi,[["render",qi]]);var xi=Ui;const Di={class:"auth-wrapper"},Ri={class:"auth-inner"},Ai=(0,o._)("h3",null,"Request Edit Category",-1),zi={class:"form-group"},Ni=(0,o._)("label",{for:"categoryName"},"Category Name",-1),Si=(0,o._)("button",{class:"btn btn-primary btn-block",type:"submit"},"Edit Category",-1);function Hi(e,t,a,s,n,l){return(0,o.wg)(),(0,o.iD)("div",Di,[(0,o._)("div",Ri,[(0,o._)("form",{onSubmit:t[1]||(t[1]=(0,r.iM)(((...e)=>s.requestEditCategory&&s.requestEditCategory(...e)),["prevent"]))},[Ai,(0,o._)("div",zi,[Ni,(0,o.wy)((0,o._)("input",{type:"text",id:"categoryName",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>s.categoryName=e)},null,512),[[r.nr,s.categoryName]])]),Si],32)])])}var Zi={name:"RequestEditCategory",setup(){const e=(0,Z.iH)(""),t=(0,Z.iH)(""),a=(0,Ne.oR)();(0,o.bv)((()=>{e.value=Mi.currentRoute.value.params.category_id,H.Z.get(`/admin/edit_category/${e.value}`,{headers:{"Content-Type":"application/json"}}).then((e=>{t.value=e.data.category})).catch((e=>{console.log("Error fetching categories",e)}))}));const r=async()=>{const r=t.value,o=e.value;console.log(r,o),await a.dispatch("requestEditCategory",{categoryName:r,category_id:o})};return{categoryName:t,requestEditCategory:r}}};const Ti=(0,c.Z)(Zi,[["render",Hi]]);var Oi=Ti;const Ei=[{path:"/",component:k},{path:"/user/login",component:E},{path:"/user/register",component:se},{path:"/user/dashboard",component:Ze},{path:"/admin/login",component:Kt},{path:"/admin/register",component:Ot},{path:"/admin/dashboard",component:Pa},{path:"/store-manager/login",component:We},{path:"/store-manager/register",component:_t},{path:"/admin/add-product",component:Qa},{path:"/admin/add-category",component:xr},{path:"/admin/edit-category/:category_id",name:"edit-category",component:Or},{path:"/admin/edit-product/:product_id",name:"edit-product",component:no},{path:"/search",name:"search-product",component:Fo,props:e=>({query:e.query.query})},{path:"/admin/profile",component:as},{path:"/user/profile",component:ms},{path:"/admin/cart",component:Zs},{path:"/user/cart",component:rn},{path:"/admin/checkout",component:pn},{path:"/admin/orders",component:An},{path:"/user/checkout",component:En},{path:"/user/orders",component:al},{path:"/requests",component:Tl},{path:"/store-manager/dashboard",component:pc},{path:"/store-manager/add-product",component:hr},{path:"/store-manager/add-category",component:xr},{path:"/store-manager/edit-product/:product_id",name:"store-manager-edit-product",component:Ao},{path:"/store-manager/cart",component:Hc},{path:"/store-manager/checkout",component:$c},{path:"/store-manager/orders",component:ni},{path:"/store-manager/profile",component:hi},{path:"/store-manager/request-add-category",component:xi},{path:"/store-manager/request-edit-category/:category_id",name:"store-manager-edit-category",component:Oi}],Bi=(0,u.p7)({history:(0,u.PO)(),routes:Ei});var Mi=Bi;H.Z.defaults.baseURL="http://localhost:5000/";const Ii=(0,Ne.MT)({state:{productsByCategory:[],categories:[],adminCartProducts:[],managerCartProducts:[],userCartProducts:[],adminTotalItems:0,adminTotalPrice:0,managerTotalItems:0,managerTotalPrice:0,userTotalItems:0,userTotalPrice:0,adminOrders:[],managerOrders:[],userOrders:[],userId:"",managerId:"",adminId:"",loginRequests:[],categoryRequests:[],adminProfile:[],managerProfile:[],userProfile:[],adminOrderTotal:0,managerOrderTotal:0,userOrderTotal:0},mutations:{setProductsByCategory(e,t){e.productsByCategory=t},setCategories(e,t){e.categories=t},setAdminCartProducts(e,t){e.adminCartProducts=t},setManagerCartProducts(e,t){e.managerCartProducts=t},setUserCartProducts(e,t){e.userCartProducts=t},setAdminTotalItems(e,t){e.adminTotalItems=t},setAdminTotalPrice(e,t){e.adminTotalPrice=t},setManagerTotalItems(e,t){e.managerTotalItems=t},setManagerTotalPrice(e,t){e.managerTotalPrice=t},setUserTotalItems(e,t){e.userTotalItems=t},setUserTotalPrice(e,t){e.userTotalPrice=t},setAdminOrderTotal(e,t){e.adminOrderTotal=t},setManagerOrderTotal(e,t){e.managerOrderTotal=t},setUserOrderTotal(e,t){e.userOrderTotal=t},updateQuantity(e,{product_id:t,newQuantity:a,role:r}){if("admin"==r){const r=e.adminCartProducts.findIndex((e=>e.product_id==t));-1!==r&&(e.adminCartProducts[r].quantity=a)}else if("manager"==r){const r=e.managerCartProducts.findIndex((e=>e.product_id==t));-1!==r&&(e.managerCartProducts[r].quantity=a)}else{const r=e.userCartProducts.findIndex((e=>e.product_id==t));-1!==r&&(e.userCartProducts[r].quantity=a)}},setAdminOrders(e,t){e.adminOrders=t},setManagerOrders(e,t){e.managerOrders=t},setUserOrders(e,t){e.userOrders=t},setLoginRequests(e,t){e.loginRequests=t},setCategoryRequests(e,t){e.categoryRequests=t},setAdminProfile(e,t){e.adminProfile=t},setManagerProfile(e,t){e.managerProfile=t},setUserProfile(e,t){e.userProfile=t}},actions:{async fetchProductsByCategory({commit:e}){try{const t=await H.Z.get("/get_products");e("setProductsByCategory",t.data.products)}catch(t){console.error("Error fetching product by categories",t)}},async fetchCategories({commit:e}){try{const t=await H.Z.get("/get_categories");e("setCategories",t.data.categories)}catch(t){console.error("Error fetching categories",t)}},async deleteCategory({dispatch:e},{category_id:t}){const a=window.confirm("Are you sure you want to delete this category?");if(a)try{await H.Z.delete(`/admin/delete_category/${t}`),e("fetchProductsByCategory")}catch(r){console.log(r)}},async deleteProduct({dispatch:e},{product_id:t}){const a=window.confirm("Are you sure you want to delete this product?");if(a)try{await H.Z.delete(`/delete_product/${t}`),e("fetchProductsByCategory")}catch(r){console.log(r)}},async fetchAdminCartProducts({commit:e}){try{const t=await H.Z.get("/admin/cart",{headers:{Authorization:`Bearer ${localStorage.access_token}`}});e("setAdminCartProducts",t.data.products),e("setAdminTotalItems",t.data.total_count),e("setAdminTotalPrice",t.data.total_price)}catch(t){console.error(t)}},async fetchManagerCartProducts({commit:e}){try{const t=await H.Z.get("/store_manager/cart",{headers:{Authorization:`Bearer ${localStorage.access_token}`}});e("setManagerCartProducts",t.data.products),e("setManagerTotalItems",t.data.total_count),e("setManagerTotalPrice",t.data.total_price)}catch(t){console.error(t)}},async fetchUserCartProducts({commit:e}){try{const t=await H.Z.get("/user/cart",{headers:{Authorization:`Bearer ${localStorage.access_token}`}});e("setUserCartProducts",t.data.products),e("setUserTotalItems",t.data.total_count),e("setUserTotalPrice",t.data.total_price)}catch(t){console.error(t)}},async addToAdminCart({dispatch:e},{product_id:t,product_name:a,price:r,product_unit:o,image_path:s,quantity:n}){try{const l={headers:{Authorization:`Bearer ${localStorage.access_token}`}},c={product_id:t,product_name:a,price:r,product_unit:o,image_path:s,quantity:n,role:"admin"};await H.Z.post("/admin/cart",c,l),alert("Product added to cart successfully"),e("fetchAdminCartProducts")}catch(l){alert("Product already exists in cart")}},async addToManagerCart({dispatch:e},{product_id:t,product_name:a,price:r,product_unit:o,image_path:s,quantity:n}){try{const l={headers:{Authorization:`Bearer ${localStorage.access_token}`}},c={product_id:t,product_name:a,price:r,product_unit:o,image_path:s,quantity:n,role:"manager"};await H.Z.post("/store_manager/cart",c,l),alert("Product added to cart successfully"),e("fetchManagerCartProducts")}catch(l){alert("Product already exists in cart")}},async addToUserCart({dispatch:e},{product_id:t,product_name:a,price:r,product_unit:o,image_path:s,quantity:n}){try{const l={headers:{Authorization:`Bearer ${localStorage.access_token}`}},c={product_id:t,product_name:a,price:r,product_unit:o,image_path:s,quantity:n,role:"user"};await H.Z.post("/user/cart",c,l),alert("Product added to cart successfully"),e("fetchUserCartProducts")}catch(l){alert("Product already exists in cart")}},async removeFromCart({dispatch:e},{product_id:t,role:a}){const r=window.confirm("Are you sure you want to remove this product from cart?");if(r)try{await H.Z.delete(`/remove_from_cart/${t}/${a}`,{headers:{Authorization:`Bearer ${localStorage.access_token}`}}),e("admin"==a?"fetchAdminCartProducts":"manager"==a?"fetchManagerCartProducts":"fetchUserCartProducts")}catch(o){console.error(o)}},async updateQuantity({commit:e,dispatch:t},{product_id:a,newQuantity:r,role:o}){try{const s=await H.Z.put(`/update_quantity/${a}`,{quantity:r,role:o},{headers:{Authorization:`Bearer ${localStorage.access_token}`}});"admin"==o?(e("updateQuantity",{product_id:a,newQuantity:s.data.quantity,role:o}),e("setAdminTotalItems",s.data.total_items),e("setAdminTotalPrice",s.data.total_price),console.log(s),t("fetchAdminCartProducts")):"manager"==o?(e("updateQuantity",{product_id:a,newQuantity:s.data.quantity,role:o}),e("setManagerTotalItems",s.data.total_items),e("setManagerTotalPrice",s.data.total_price),t("fetchManagerCartProducts")):(e("updateQuantity",{product_id:a,newQuantity:s.data.quantity,role:o}),e("setUserTotalItems",s.data.total_items),e("setUserTotalPrice",s.data.total_price),t("fetchUserCartProducts"),console.log(s))}catch(s){console.error(s)}},async fetchAdminOrders({commit:e}){try{const t=await H.Z.get("/admin/orders",{headers:{Authorization:`Bearer ${localStorage.access_token}`}});e("setAdminOrders",t.data.orders),e("setAdminOrderTotal",t.data.total_price)}catch(t){console.error(t)}},async fetchManagerOrders({commit:e}){try{const t=await H.Z.get("/store_manager/orders",{headers:{Authorization:`Bearer ${localStorage.access_token}`}});e("setManagerOrders",t.data.orders),e("setManagerOrderTotal",t.data.total_price),console.log(t.data)}catch(t){console.error(t)}},async fetchUserOrders({commit:e}){try{const t=await H.Z.get("/user/orders",{headers:{Authorization:`Bearer ${localStorage.access_token}`}});e("setUserOrders",t.data.orders),e("setUserOrderTotal",t.data.total_price)}catch(t){console.error(t)}},async completeAdminOrder({state:e,commit:t}){const a=window.confirm("Are you sure you want to pay and complete your order");if(a)try{await H.Z.post("/admin/orders",{admin_id:e.adminId}),alert("Orders completed successfully"),t("setAdminCheckout",null,0)}catch(r){console.error(r)}},async completeManagerOrder({state:e,commit:t}){const a=window.confirm("Are you sure you want to pay and complete your order");if(a)try{await H.Z.post("/store_manager/orders",{manager_id:e.managerId}),alert("Orders completed successfully"),t("setManagerCheckout",null,0)}catch(r){console.error(r)}},async completeUserOrder({state:e,commit:t}){const a=window.confirm("Are you sure you want to pay and complete your order");if(a)try{await H.Z.post("/user/orders",{user_id:e.userId}),alert("Orders completed successfully"),t("setUserCheckout",null,0)}catch(r){console.error(r)}},async fetchLoginRequests({commit:e}){try{const t=await H.Z.get("/admin/login_requests");e("setLoginRequests",t.data.login_requests)}catch(t){console.error(t)}},async fetchCategoryRequests({commit:e}){try{const t=await H.Z.get("/store_manager/request_add_category");e("setCategoryRequests",t.data.cat_requests)}catch(t){console.error(t)}},async approveLoginRequest({commit:e,dispatch:t},{token:a}){try{await H.Z.post(`/approve_login_requests/${a}`),t("fetchLoginRequests"),e("setRequestStatus","Approved")}catch(r){console.error(r)}},async rejectLoginRequest({commit:e,dispatch:t},{token:a}){try{await H.Z.post(`/reject_login_requests/${a}`),t("fetchLoginRequests"),e("setRequestStatus","Rejected")}catch(r){console.error(r)}},async addCategory({dispatch:e},{categoryName:t}){try{const a=await H.Z.post("/admin/add_category",{name:t});alert(a.data.message),e("fetchCategories")}catch(a){alert("Category already exists")}},async requestAddCategory({dispatch:e},{categoryName:t}){try{const a=await H.Z.post("/store_manager/request_add_category",{name:t},{headers:{Authorization:`Bearer ${localStorage.access_token}`}});alert(a.data.message),e("fetchCategories")}catch(a){alert("Category already exists")}},async approveAddCategoryRequest({dispatch:e},{request_id:t,category_name:a}){try{await H.Z.post("/approve/add_category_request",{request_id:t,category_name:a}),e("fetchCategoryRequests"),e("fetchCategories"),e("fetchProductsByCategory")}catch(r){console.error(r)}},async rejectAddCategoryRequest({dispatch:e},{request_id:t}){try{await H.Z.post("/reject/add_category_request",{request_id:t}),e("fetchCategoryRequests")}catch(a){console.error(a)}},async requestDeleteCategory({dispatch:e},{category_id:t}){const a=window.confirm("Are you sure you want to delete this category?");if(a)try{const a=await H.Z.post("/store_manager/request_delete_category",{category_id:t},{headers:{Authorization:`Bearer ${localStorage.access_token}`}});e("fetchProductsByCategory"),e("fetchCategoryRequests"),alert(a.data.message)}catch(r){alert("Request to delete this category is already sent, wait for approval"),console.log(r)}},async approveDeleteCategoryRequest({dispatch:e},{request_id:t,category_name:a}){try{console.log(t,a),await H.Z.delete(`/approve/delete_category_request/${a}/${t}`),e("fetchCategoryRequests"),e("fetchCategories"),e("fetchProductsByCategory")}catch(r){console.error(r)}},async rejectDeleteCategoryRequest({dispatch:e},{request_id:t}){try{await H.Z.post(`/reject/delete_category_request/${t}`),e("fetchCategoryRequests")}catch(a){console.error(a)}},async requestEditCategory({dispatch:e},{categoryName:t,category_id:a}){try{await H.Z.post("/store_manager/request_edit_category",{category_name:t,category_id:a},{headers:{Authorization:`Bearer ${localStorage.access_token}`}}),alert("Your request has been sent"),e("fetchCategories")}catch(r){alert("Failed to updated category")}Mi.push("/store-manager/dashboard")},async approveEditCategoryRequest({dispatch:e},{request_id:t,category_name:a}){try{const r=await H.Z.put("/approve/edit_category_request",{category_name:a,request_id:t});e("fetchCategoryRequests"),e("fetchCategories"),e("fetchProductsByCategory"),console.log(t,a,r.data.message)}catch(r){console.error(r)}},async rejectEditCategoryRequest({dispatch:e},{request_id:t}){try{await H.Z.post(`/reject/edit_category_request/${t}`),e("fetchCategoryRequests")}catch(a){console.error(a)}},async fetchAdminProfile({commit:e}){try{const t=await H.Z.get("/admin/profile",{headers:{Authorization:`Bearer ${localStorage.access_token}`}});e("setAdminProfile",t.data.profile_data)}catch(t){console.error(t),Mi.push("/admin/login")}},async fetchManagerProfile({commit:e}){try{const t=await H.Z.get("/store_manager/profile",{headers:{Authorization:`Bearer ${localStorage.access_token}`}});e("setManagerProfile",t.data.profile_data)}catch(t){console.error(t),Mi.push("/store-manager/login")}},async fetchUserProfile({commit:e}){try{const t=await H.Z.get("/user/profile",{headers:{Authorization:`Bearer ${localStorage.access_token}`}});e("setUserProfile",t.data.profile_data)}catch(t){console.error(t),Mi.push("/user/login")}}}});var $i=Ii;const Vi=(0,r.ri)(d);Vi.use(Mi),Vi.use($i),Vi.mount("#app")}},t={};function a(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,r,o,s){if(!r){var n=1/0;for(d=0;d<e.length;d++){r=e[d][0],o=e[d][1],s=e[d][2];for(var l=!0,c=0;c<r.length;c++)(!1&s||n>=s)&&Object.keys(a.O).every((function(e){return a.O[e](r[c])}))?r.splice(c--,1):(l=!1,s<n&&(n=s));if(l){e.splice(d--,1);var i=o();void 0!==i&&(t=i)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[r,o,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,s,n=r[0],l=r[1],c=r[2],i=0;if(n.some((function(t){return 0!==e[t]}))){for(o in l)a.o(l,o)&&(a.m[o]=l[o]);if(c)var d=c(a)}for(t&&t(r);i<n.length;i++)s=n[i],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(d)},r=self["webpackChunkgrocery_stoe"]=self["webpackChunkgrocery_stoe"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(8662)}));r=a.O(r)})();
//# sourceMappingURL=app.fbc81f6d.js.map